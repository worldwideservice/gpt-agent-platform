<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–†–Ø–ú–û–ô –¢–ï–°–¢ KOMMO OAUTH</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px; }
        .code { background: #f4f4f4; padding: 10px; border-radius: 5px; font-family: monospace; word-break: break-all; }
    </style>
</head>
<body>
    <h1>üéØ –ü–†–Ø–ú–û–ô –¢–ï–°–¢ KOMMO OAUTH</h1>

    <p><strong>–ò—Å–ø–æ–ª—å–∑—É–µ–º URL, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ Kommo:</strong></p>
    <div class="code">https://gpt-agent-kwid-44gyznxsi-world-wide-services-62780b79.vercel.app</div>

    <button class="button" onclick="startOAuth()">üöÄ –ù–ê–ß–ê–¢–¨ –ê–í–¢–û–†–ò–ó–ê–¶–ò–Æ</button>

    <script>
        function startOAuth() {
            const clientId = '2a5c1463-43dd-4ccc-abd0-79516f785e57';
            const redirectUri = 'https://gpt-agent-kwid-44gyznxsi-world-wide-services-62780b79.vercel.app/integrations/kommo/oauth/callback';
            const scope = 'crm:read crm:write leads:read leads:write contacts:read contacts:write tasks:read tasks:write';
            const state = 'direct_test_' + Date.now();

            const authUrl = `https://worldwideservices.kommo.com/oauth?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${encodeURIComponent(scope)}&state=${state}&response_type=code`;

            console.log('OAuth URL:', authUrl);
            window.open(authUrl, 'kommo_oauth', 'width=600,height=700');
        }
    </script>
</body>
</html>
