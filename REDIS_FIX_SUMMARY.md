# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis

**–î–∞—Ç–∞:** 2025-11-08  
**–í—Ä–µ–º—è:** 18:35 UTC

---

## üîç –ü—Ä–æ–±–ª–µ–º–∞

**–û—à–∏–±–∫–∞:** `ERR DB connection timed-out or wrong username-password given. Please try again`

**–°—Ç–∞—Ç—É—Å Worker:**
- ‚úÖ Worker –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Health check –æ—Ç–≤–µ—á–∞–µ—Ç (—Å—Ç–∞—Ç—É—Å: degraded)
- ‚ùå Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚è≥ Worker –ø—ã—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è (retry attempts)

---

## üìã –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**Upstash Redis:**
- **Database:** `agent-redis-production`
- **Endpoint:** `composed-primate-14678.upstash.io`
- **REST URL:** `https://composed-primate-14678.upstash.io`
- **Port:** `6379` (TLS)
- **TLS/SSL:** Enabled ‚úÖ

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway:**
- ‚úÖ `UPSTASH_REDIS_REST_URL` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ `UPSTASH_REDIS_REST_TOKEN` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (10 Service Variables)

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ Upstash:**
- `UPSTASH_REDIS_REST_URL`: `https://composed-primate-14678.upstash.io`
- `UPSTASH_REDIS_REST_TOKEN`: (—Å–∫—Ä—ã—Ç, –Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º)

**–§–æ—Ä–º–∞—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Worker:**
```typescript
// Worker —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç URL –∏–∑ REST URL –∏ —Ç–æ–∫–µ–Ω–∞
// –§–æ—Ä–º–∞—Ç: rediss://default:TOKEN@ENDPOINT:6379
redisUrl = `rediss://default:${encodeURIComponent(env.UPSTASH_REDIS_REST_TOKEN)}@${redisHost}:${redisPort}`
```

---

## ‚úÖ –î–µ–π—Å—Ç–≤–∏—è

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Upstash Redis
3. ‚è≥ –ü—Ä–æ–≤–µ—Ä—è—é –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–æ—Ç–∫—Ä—ã–≤–∞—é "Show value")

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `UPSTASH_REDIS_REST_URL` = `https://composed-primate-14678.upstash.io`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `UPSTASH_REDIS_REST_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ Upstash –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Worker –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

---

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Worker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (`rediss://default:TOKEN@ENDPOINT:6379`)
- Upstash Redis –∞–∫—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–±–ª–µ–º–∞ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

