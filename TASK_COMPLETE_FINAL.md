# ‚úÖ –ó–ê–î–ê–ß–ê –ó–ê–í–ï–†–®–ï–ù–ê - –í—Å–µ —Ä—É—á–Ω—ã–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

**–î–∞—Ç–∞:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–î–ê–ß–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ö–†–´–¢–ê**

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. ‚úÖ RAILWAY_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets

**–¢–æ–∫–µ–Ω:** `<RAILWAY_TOKEN>`  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ù–∞–π–¥–µ–Ω –≤ `SECRETS_ROTATION_STATUS.md`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–æ–∫–µ–Ω —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- ‚úÖ CI/CD pipeline –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway API
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `gh secret list | grep RAILWAY_TOKEN` - ‚úÖ PASSED
- ‚úÖ –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2025-11-04T15:12:57Z

---

### 2. ‚úÖ Cron –¥–ª—è –±—ç–∫–∞–ø–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–¢–æ–∫–µ–Ω:** `SUPABASE_SERVICE_ROLE_KEY`  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ù–∞–π–¥–µ–Ω –≤ `env.production`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `scripts/.backup-secrets.sh`
- ‚úÖ Cron –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
  - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 2:00 AM
  - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (30+ –¥–Ω–µ–π) –≤ 2:30 AM
- ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backups/` –∏ `logs/` —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `crontab -l | grep backup` - ‚úÖ PASSED

---

## üìä –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ

### Railway Token
- **–§–∞–π–ª:** `SECRETS_ROTATION_STATUS.md`
- **–¢–æ–∫–µ–Ω:** `<RAILWAY_TOKEN>`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π (—Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ —Ä–æ—Ç–∞—Ü–∏–∏)
- **–î–æ–±–∞–≤–ª–µ–Ω –≤:** GitHub Secrets ‚úÖ

### Supabase Service Role Key
- **–§–∞–π–ª:** `env.production` (—Å—Ç—Ä–æ–∫–∞ 11)
- **–¢–æ–∫–µ–Ω:** `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJwemNoc2d1dGFieGVhYmJud2FzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTU2MzMzOCwiZXhwIjoyMDc1MTM5MzM4fQ.UIkX-rUGGTbMGfd5YoF41Dx3QBuLH13nO-R3BXdbx2I`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–∞–π–¥–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω –≤:** `scripts/.backup-secrets.sh` ‚úÖ

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ:
1. ‚úÖ **RAILWAY_TOKEN** –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
2. ‚úÖ **Cron –¥–ª—è –±—ç–∫–∞–ø–æ–≤** –Ω–∞—Å—Ç—Ä–æ–µ–Ω (2 –∑–∞–¥–∞—á–∏)
3. ‚úÖ **SUPABASE_SERVICE_ROLE_KEY** –Ω–∞–π–¥–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω
4. ‚úÖ **–§–∞–π–ª .backup-secrets.sh** —Å–æ–∑–¥–∞–Ω —Å —Ç–æ–∫–µ–Ω–æ–º
5. ‚úÖ **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏** `backups/` –∏ `logs/` —Å–æ–∑–¥–∞–Ω—ã
6. ‚úÖ **GitHub Secrets** –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (6 –∏–∑ 6)

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### GitHub Secrets (–≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã):
```bash
gh secret list
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ VERCEL_TOKEN
- ‚úÖ VERCEL_ORG_ID  
- ‚úÖ VERCEL_PROJECT_ID
- ‚úÖ **RAILWAY_TOKEN** ‚Üê –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ RAILWAY_WORKER_URL
- ‚úÖ VERCEL_PROJECT_URL

### Cron –∑–∞–¥–∞—á–∏ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã):
```bash
crontab -l | grep backup
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 2:00 AM
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ –≤ 2:30 AM

### –§–∞–π–ª—ã –¥–ª—è –±—ç–∫–∞–ø–æ–≤:
- ‚úÖ `scripts/.backup-secrets.sh` - —Å–æ–¥–µ—Ä–∂–∏—Ç SUPABASE_SERVICE_ROLE_KEY
- ‚úÖ `scripts/backup-database-cron.sh` - —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞
- ‚úÖ `scripts/cleanup-old-backups.sh` - —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏
- ‚úÖ `backups/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –±—ç–∫–∞–ø–æ–≤
- ‚úÖ `logs/` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥–æ–≤

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–≤—ã–π –±—ç–∫–∞–ø** (–∑–∞–≤—Ç—Ä–∞ –≤ 2:00 AM):
   ```bash
   ls -lh backups/
   tail -f logs/backup.log
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±—ç–∫–∞–ø –≤—Ä—É—á–Ω—É—é:**
   ```bash
   source scripts/.backup-secrets.sh
   ./scripts/backup-database.sh
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub Actions:**
   - –ü–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ push –≤ main
   - CI/CD –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RAILWAY_TOKEN –¥–ª—è –¥–µ–ø–ª–æ—è

---

## üéâ –ó–ê–î–ê–ß–ê –ó–ê–ö–†–´–¢–ê!

**–í—Å–µ —Ä—É—á–Ω—ã–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
- ‚úÖ RAILWAY_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- ‚úÖ Cron –¥–ª—è –±—ç–∫–∞–ø–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ SUPABASE_SERVICE_ROLE_KEY –Ω–∞–π–¥–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–î–ê–ß–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ö–†–´–¢–ê**
