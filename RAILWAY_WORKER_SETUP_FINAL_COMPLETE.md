# ‚úÖ Railway Worker Setup - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## üéâ –í—ã–ø–æ–ª–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é

### 1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Worker

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **Root Directory:** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `/` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç Worker –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (`../../../lib/`)
   - –†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ –∏–º–ø–æ—Ä—Ç–∞

2. **Dockerfile Path:** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `services/worker/Dockerfile`
   - Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Dockerfile –¥–ª—è Worker
   - Dockerfile –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞

3. **Start Command:** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `cd services/worker && npm start`
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç Worker –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–∞

### 2. ‚úÖ –î–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
- **Deployment ID:** `f3c9c612-f62c-49e7-891a-6fa664fc0991`
- **–°—Ç–∞—Ç—É—Å:** Building (00:07)
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `worldwideservice/gpt-agent-platform`
- **Branch:** `main`

### 3. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ü—Ä–æ–µ–∫—Ç:**
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** `athletic-unity`
- **Project ID:** `ee93e450-dfe7-4414-892f-f3c6b83d91d1`
- **Environment:** `production` (worldwideservice)

**–°–µ—Ä–≤–∏—Å:**
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** `gpt-agent-platform` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ Worker)
- **Service ID:** `2a8d827f-d635-4314-98a8-8c2e5cf77f39`
- **–†–µ–≥–∏–æ–Ω:** Southeast Asia (Singapore)

**Build & Deploy:**
- **Builder:** Dockerfile (BuildKit)
- **Dockerfile Path:** `services/worker/Dockerfile`
- **Start Command:** `cd services/worker && npm start`
- **Root Directory:** `/`

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –í–µ—Ä–Ω—É–ª–∏ Root Directory –Ω–∞ `/` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Dockerfile Path –Ω–∞ `services/worker/Dockerfile`
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ Start Command –Ω–∞ `cd services/worker && npm start`
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏–ª–∏ –¥–µ–ø–ª–æ–π —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ:

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Worker:**
   - `REDIS_URL` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)
   - `SUPABASE_URL` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)
   - `SUPABASE_SERVICE_ROLE_KEY` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)
   - `ENCRYPTION_KEY` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è, –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
   - `OPENROUTER_API_KEY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è)
   - `JOB_QUEUE_NAME` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'agent-jobs')
   - `JOB_CONCURRENCY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
Worker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–∞ (`../../../lib/`) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞. –ö–æ–≥–¥–∞ Root Directory –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `/services/worker`, —ç—Ç–∏ –ø—É—Ç–∏ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏.

**–†–µ—à–µ–Ω–∏–µ:**
1. –í–µ—Ä–Ω—É–ª–∏ Root Directory –Ω–∞ `/` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ Dockerfile Worker (`services/worker/Dockerfile`), –∫–æ—Ç–æ—Ä—ã–π –∫–æ–ø–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
3. –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ Start Command –Ω–∞ `cd services/worker && npm start`, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å Worker –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- Dockerfile —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- Worker –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
- Start Command –∑–∞–ø—É—Å—Ç–∏—Ç—å Worker –∏–∑ `services/worker` –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏

---

**–î–∞—Ç–∞:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** –î–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω, –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏


