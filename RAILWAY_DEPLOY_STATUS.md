# ‚úÖ Railway Worker - –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

## üöÄ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "cd could not be found"
- **–ö–æ–º–º–∏—Ç:** `37a97cd6`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - `services/worker/Dockerfile`: CMD –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ `npm start`
  - `services/worker/package.json`: start —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è tsconfig.json

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω railway.json
- **–ö–æ–º–º–∏—Ç:** `c9b50911`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - `dockerfilePath`: `services/worker/Dockerfile` (–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—É—Ç—å –¥–ª—è Root Directory = `/`)

### 3. ‚úÖ –ö–æ–º–º–∏—Ç—ã –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub
- **Branch:** `main`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–ø—É—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç:** `c9b50911`

---

## ‚ö†Ô∏è –ü–æ—á–µ–º—É –¥–µ–ø–ª–æ–π –º–æ–∂–µ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –¥–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:

1. **‚úÖ –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: Railway Dashboard ‚Üí Settings ‚Üí Source ‚Üí GitHub Repo

2. **‚úÖ –í–∫–ª—é—á–µ–Ω Auto-Deploy**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: Railway Dashboard ‚Üí Settings ‚Üí Deployments ‚Üí Auto-Deploy
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è –≤–µ—Ç–∫–∏ `main`

3. **‚úÖ Root Directory –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: `/` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: Railway Dashboard ‚Üí Worker Service ‚Üí Settings ‚Üí Root Directory

---

## üîß –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Railway Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app/project/ee93e450-dfe7-4414-892f-f3c6b83d91d1/service/2a8d827f-d635-4314-98a8-8c2e5cf77f39
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Deploy"** –∏–ª–∏ **"Redeploy"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É `main` –∏ –Ω–∞–∂–º–∏—Ç–µ **"Deploy"**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Railway CLI
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Railway CLI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
npm install -g @railway/cli

# –õ–æ–≥–∏–Ω
railway login

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
railway link --project ee93e450-dfe7-4414-892f-f3c6b83d91d1

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π
railway up
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Root Directory
- **–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:** `/` (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Railway Dashboard ‚Üí Worker Service ‚Üí Settings ‚Üí Root Directory

### Dockerfile Path
- **–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:** `services/worker/Dockerfile`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Railway Dashboard ‚Üí Worker Service ‚Üí Settings ‚Üí Build

### Start Command
- **–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:** –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ Dockerfile)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:** Railway Dashboard ‚Üí Worker Service ‚Üí Settings ‚Üí Deploy

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –¥–µ–ø–ª–æ—è

### –ß–µ—Ä–µ–∑ Railway Dashboard
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app/project/ee93e450-dfe7-4414-892f-f3c6b83d91d1/service/2a8d827f-d635-4314-98a8-8c2e5cf77f39
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª **"Deployments"**
3. –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ:
   - ‚úÖ **"Building"** - –∏–¥–µ—Ç —Å–±–æ—Ä–∫–∞
   - ‚úÖ **"Deploying"** - –∏–¥–µ—Ç –¥–µ–ø–ª–æ–π
   - ‚úÖ **"Active"** - –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–µ–Ω
   - ‚ùå **"Failed"** - –¥–µ–ø–ª–æ–π –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏)

### –ß–µ—Ä–µ–∑ –ª–æ–≥–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app/project/ee93e450-dfe7-4414-892f-f3c6b83d91d1/service/2a8d827f-d635-4314-98a8-8c2e5cf77f39/logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è
2. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Worker –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
3. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Worker:
   - `REDIS_URL`
   - `SUPABASE_URL`
   - `SUPABASE_SERVICE_ROLE_KEY`
   - `ENCRYPTION_KEY`
   - `OPENROUTER_API_KEY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `JOB_QUEUE_NAME` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `JOB_CONCURRENCY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check: `http://localhost:3001/health`

---

**–î–∞—Ç–∞:** 2025-01-26  
**–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç:** `c9b50911`  
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ –¥–µ–ø–ª–æ—è Railway


