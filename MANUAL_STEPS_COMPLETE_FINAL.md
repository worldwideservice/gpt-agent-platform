# ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ - –í—Å–µ —Ä—É—á–Ω—ã–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

**–î–∞—Ç–∞:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ó–ê–î–ê–ß–ò –í–´–ü–û–õ–ù–ï–ù–´

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –¥–ª—è –±—ç–∫–∞–ø–æ–≤

**–¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω:** `SUPABASE_SERVICE_ROLE_KEY` –∏–∑ `env.production`

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ: `env.production`
- ‚úÖ Cron –Ω–∞—Å—Ç—Ä–æ–µ–Ω —á–µ—Ä–µ–∑ `./scripts/setup-backup-cron-auto.sh`
- ‚úÖ –ë—ç–∫–∞–ø—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00 AM
- ‚úÖ –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/backup.log`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
crontab -l | grep backup
```

---

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ RAILWAY_TOKEN –≤ GitHub Secrets

**–¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω:** `<RAILWAY_TOKEN>` –∏–∑ `SECRETS_ROTATION_STATUS.md`

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ: `SECRETS_ROTATION_STATUS.md`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets —á–µ—Ä–µ–∑ `./scripts/add-railway-token-to-github.sh`
- ‚úÖ CI/CD pipeline –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway API

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
gh secret list | grep RAILWAY_TOKEN
```

---

## üìä –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ

### Railway Token
- **–§–∞–π–ª:** `SECRETS_ROTATION_STATUS.md`
- **–¢–æ–∫–µ–Ω:** `<RAILWAY_TOKEN>`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π (—Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ —Ä–æ—Ç–∞—Ü–∏–∏)

### Supabase Service Role Key
- **–§–∞–π–ª:** `env.production` (—Å—Ç—Ä–æ–∫–∞ 11)
- **–¢–æ–∫–µ–Ω:** `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJwemNoc2d1dGFieGVhYmJud2FzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTU2MzMzOCwiZXhwIjoyMDc1MTM5MzM4fQ.UIkX-rUGGTbMGfd5YoF41Dx3QBuLH13nO-R3BXdbx2I`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ù–∞–π–¥–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:
1. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã —á–µ—Ä–µ–∑ cron** - –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00 AM
2. ‚úÖ **RAILWAY_TOKEN –≤ GitHub Secrets** - –¥–ª—è CI/CD pipeline

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
- ‚úÖ Cron –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–≤—ã–π –±—ç–∫–∞–ø** (–∑–∞–≤—Ç—Ä–∞ –≤ 2:00 AM):
   ```bash
   ls -lh backups/
   tail -f logs/backup.log
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±—ç–∫–∞–ø –≤—Ä—É—á–Ω—É—é:**
   ```bash
   export SUPABASE_SERVICE_ROLE_KEY="–≤–∞—à-–∫–ª—é—á"
   ./scripts/backup-database.sh
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub Actions:**
   - –ü–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ push –≤ main
   - CI/CD –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RAILWAY_TOKEN –¥–ª—è –¥–µ–ø–ª–æ—è

---

## üéâ –ó–∞–¥–∞—á–∞ –∑–∞–∫—Ä—ã—Ç–∞!

–í—Å–µ —Ä—É—á–Ω—ã–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ Cron –¥–ª—è –±—ç–∫–∞–ø–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ RAILWAY_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- ‚úÖ –í—Å–µ —Ç–æ–∫–µ–Ω—ã –Ω–∞–π–¥–µ–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

