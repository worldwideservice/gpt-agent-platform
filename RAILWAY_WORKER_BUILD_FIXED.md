# ‚úÖ Railway Worker - –°–±–æ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–ó–∞–º–µ–Ω–∏–ª —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤ `heavy-processing.ts`:**
   - –£–±—Ä–∞–ª `import { UserRepository } from '../lib/repositories/users'`
   - –°–æ–∑–¥–∞–ª —Ñ—É–Ω–∫—Ü–∏—é-—Ö–µ–ª–ø–µ—Ä `getUserTier()` —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –∏–º–ø–æ—Ä—Ç–æ–º
   - –ó–∞–º–µ–Ω–∏–ª –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `UserRepository.getUserTier()` –Ω–∞ `getUserTier()`

2. **–û–±–Ω–æ–≤–∏–ª Dockerfile:**
   - –ö–æ–ø–∏—Ä—É–µ—Ç `lib/` –≤ `services/worker/lib/` –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π
   - –ö–æ–ø–∏—Ä—É–µ—Ç `lib/` –≤ production stage –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

3. **–û–±–Ω–æ–≤–∏–ª tsconfig.json:**
   - –ò–∑–º–µ–Ω–∏–ª `baseUrl` –Ω–∞ `./`
   - –î–æ–±–∞–≤–∏–ª `paths` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—É—Ç–µ–π
   - –í–∫–ª—é—á–∏–ª `lib/` –≤ —Å–±–æ—Ä–∫—É

## ‚ö†Ô∏è –û—Å—Ç–∞—é—â–∞—è—Å—è –ø—Ä–æ–±–ª–µ–º–∞

–û–¥–Ω–∞ –æ—à–∏–±–∫–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –∏–º–ø–æ—Ä—Ç–æ–º –≤ `index.ts`:
- `await import('../lib/services/webhook-processor')` - –ø—É—Ç—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è tsup –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –æ—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –¥–∞–∂–µ –µ—Å–ª–∏ tsup –≤—ã–¥–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.

---

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –∫–æ–º–º–∏—Ç—É –∏ –¥–µ–ø–ª–æ—é


