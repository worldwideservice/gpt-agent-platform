# üî¥ –û—à–∏–±–∫–∞ DNS –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Redis

**–î–∞—Ç–∞:** 2025-01-26  
**–ü—Ä–æ–±–ª–µ–º–∞:** `getaddrinfo ENOTFOUND usw1-merry-term-40416.upstash.io`

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Worker –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis –∏–∑-–∑–∞ DNS –æ—à–∏–±–∫–∏:
```
getaddrinfo ENOTFOUND usw1-merry-term-40416.upstash.io
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- DNS –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ö–æ—Å—Ç `usw1-merry-term-40416.upstash.io`
- –í–æ–∑–º–æ–∂–Ω–æ, Upstash –∏–Ω—Å—Ç–∞–Ω—Å –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω
- –ò–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `UPSTASH_REDIS_REST_URL` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π URL

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard: https://railway.app
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí Worker —Å–µ—Ä–≤–∏—Å
3. **Settings** ‚Üí **Variables**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `UPSTASH_REDIS_REST_URL`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:**
```
https://usw1-merry-term-40416.upstash.io
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Upstash Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.upstash.com
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Redis –∏–Ω—Å—Ç–∞–Ω—Å –∞–∫—Ç–∏–≤–µ–Ω
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π REST URL
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ï—Å–ª–∏ URL –∏–∑–º–µ–Ω–∏–ª—Å—è –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π:

1. –í Railway Dashboard ‚Üí Worker ‚Üí Settings ‚Üí Variables
2. –û–±–Ω–æ–≤–∏—Ç–µ `UPSTASH_REDIS_REST_URL` –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `UPSTASH_REDIS_REST_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–¥–µ–ø–ª–æ–∏—Ç Worker

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
./scripts/check-worker-health.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Redis: –ü–û–î–ö–õ–Æ–ß–ï–ù
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ DNS

---

## üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### –ï—Å–ª–∏ Upstash –∏–Ω—Å—Ç–∞–Ω—Å —É–¥–∞–ª–µ–Ω:

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Redis –∏–Ω—Å—Ç–∞–Ω—Å –≤ Upstash
2. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π REST URL –∏ —Ç–æ–∫–µ–Ω
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

### –ï—Å–ª–∏ —Ö–æ—Å—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Upstash Dashboard
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π REST URL
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `UPSTASH_REDIS_REST_URL`

---

## üìù –í–∞–∂–Ω–æ

Worker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `UPSTASH_REDIS_REST_URL` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ö–æ—Å—Ç–∞:
```typescript
const upstashRestUrl = new URL(env.UPSTASH_REDIS_REST_URL)
const redisHost = upstashRestUrl.hostname
```

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:**
- URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://`
- –•–æ—Å—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Upstash Dashboard)
- –¢–æ–∫–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —ç—Ç–æ–º—É –∏–Ω—Å—Ç–∞–Ω—Å—É

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26

