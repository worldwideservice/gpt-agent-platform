# üöÄ –ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è DevOps –ø–ª–∞–Ω–∞

> –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ DevOps –∑–∞–¥–∞—á —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

## üìä –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø:** IMMEDIATE (–î–µ–Ω—å 1)  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 0/8 –∑–∞–¥–∞—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ  
**–û—Ü–µ–Ω–∫–∞ DevOps –∑—Ä–µ–ª–æ—Å—Ç–∏:** 7/10 ‚Üí –¶–µ–ª—å: 9/10

---

## ‚úÖ –≠—Ç–∞–ø 1: IMMEDIATE (–°–µ–≥–æ–¥–Ω—è, 2-4 —á–∞—Å–∞)

### –ó–∞–¥–∞—á–∞ 1.1: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å Worker —Å–µ—Ä–≤–∏—Å ‚ö°

**–°—Ç–∞—Ç—É—Å:** üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ  
**–í—Ä–µ–º—è:** 15-30 –º–∏–Ω—É—Ç

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Worker:**
   - Dockerfile —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –≥–æ—Ç–æ–≤
   - railway.json –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - package.json –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω

2. ‚è≥ **–î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Railway Dashboard:**
   - –û—Ç–∫—Ä—ã—Ç—å https://railway.app
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Å Root Directory: `services/worker`
   - –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. `docs/RAILWAY_DEPLOY_NOW.md`)

3. ‚è≥ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–ø–ª–æ–π:**
   - Health check —Ä–∞–±–æ—Ç–∞–µ—Ç: `curl https://worker.railway.app/health`
   - –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫
   - Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Worker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production, –æ—á–µ—Ä–µ–¥–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è ‚úÖ

---

### –ó–∞–¥–∞—á–∞ 1.2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Sentry DSN –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚ö°

**–°—Ç–∞—Ç—É—Å:** üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ  
**–í—Ä–µ–º—è:** 30-60 –º–∏–Ω—É—Ç

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. ‚è≥ **–ü–æ–ª—É—á–∏—Ç—å Sentry DSN:**
   - –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Sentry Dashboard (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
     - –û—Ç–∫—Ä—ã—Ç—å: https://sentry.io
     - Settings ‚Üí Client Keys (DSN) ‚Üí –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å DSN
   - –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ API —Å —Ç–æ–∫–µ–Ω–æ–º
     ```bash
     export SENTRY_TOKEN="82a4d7aaaf2d11f092a62ea79c10f815"
     # –ü–æ–ª—É—á–∏—Ç—å DSN —á–µ—Ä–µ–∑ API (—Å–º. scripts/get-sentry-dsn.sh)
     ```

2. ‚è≥ **–î–æ–±–∞–≤–∏—Ç—å DSN –≤ Vercel:**
   - Vercel Dashboard ‚Üí Project ‚Üí Settings ‚Üí Environment Variables
   - –î–æ–±–∞–≤–∏—Ç—å: `SENTRY_DSN=<–≤–∞—à-dsn>`
   - –î–æ–±–∞–≤–∏—Ç—å: `NEXT_PUBLIC_SENTRY_DSN=<–≤–∞—à-dsn>`
   - –í—ã–±—Ä–∞—Ç—å: Production, Preview, Development
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

3. ‚è≥ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é:**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Vercel –¥–µ–ø–ª–æ–π
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –æ—à–∏–±–∫—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Sentry Dashboard —á—Ç–æ –æ—à–∏–±–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Sentry DSN –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –æ—à–∏–±–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è ‚úÖ

---

### –ó–∞–¥–∞—á–∞ 1.3: –°–æ–∑–¥–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ Sentry –∞–ª–µ—Ä—Ç—ã ‚ö°

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ  
**–í—Ä–µ–º—è:** 30-45 –º–∏–Ω—É—Ç

#### –®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. ‚è≥ **–ê–ª–µ—Ä—Ç 1: Critical Errors (Error Rate > 5%)**
   - Sentry ‚Üí Alerts ‚Üí Create Alert Rule
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏: —Å–º. `docs/SENTRY_ALERTS.md`
   - Actions: Email + Slack (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)

2. ‚è≥ **–ê–ª–µ—Ä—Ç 2: Health Check Failures**
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è `/api/health` failures
   - Threshold: 1 —Ä–∞–∑ –≤ 1 –º–∏–Ω—É—Ç—É
   - Priority: Critical

3. ‚è≥ **–ê–ª–µ—Ä—Ç 3: Slow API Requests (>5s)**
   - Performance alert
   - Transaction slower than 5000ms
   - Filters: `/api/chat`, `/api/agents/*`, `/api/dashboard/*`

4. ‚è≥ **–ê–ª–µ—Ä—Ç 4: New Error Types**
   - Alert on new issue created
   - Environment: production
   - Priority: Info

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 4 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∞–ª–µ—Ä—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç ‚úÖ

---

## üî• –≠—Ç–∞–ø 2: URGENT (–ó–∞–≤—Ç—Ä–∞, 3-4 —á–∞—Å–∞)

### –ó–∞–¥–∞—á–∞ 2.1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–∞–∂–Ω–æ  
**–í—Ä–µ–º—è:** 1 —á–∞—Å

#### –®–∞–≥–∏:

1. Supabase Dashboard ‚Üí Settings ‚Üí Database ‚Üí Backups
2. –í–∫–ª—é—á–∏—Ç—å Daily Backups
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å retention: 7 –¥–Ω–µ–π (–º–∏–Ω–∏–º—É–º)
4. –í–∫–ª—é—á–∏—Ç—å Point-in-Time Recovery (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

### –ó–∞–¥–∞—á–∞ 2.2: Security Audit –∏ —Ä–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –û–∂–∏–¥–∞–µ—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–∞–∂–Ω–æ  
**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

#### –®–∞–≥–∏:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Git –∏—Å—Ç–æ—Ä–∏—é –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
2. –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ (—Å–º. `docs/ROTATE_SECRETS.md`)
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ Vercel Secrets
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Secret Scanning –≤ CI/CD —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –≠—Ç–∞–ø 3: HIGH PRIORITY (–≠—Ç–∞ –Ω–µ–¥–µ–ª—è, 5-8 —á–∞—Å–æ–≤)

### –ó–∞–¥–∞—á–∞ 3.1: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å SLO/SLA –∏ —Å–æ–∑–¥–∞—Ç—å Dashboard

### –ó–∞–¥–∞—á–∞ 3.2: –°–æ–∑–¥–∞—Ç—å Disaster Recovery –ø–ª–∞–Ω

### –ó–∞–¥–∞—á–∞ 3.3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Worker

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –≤ —ç—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-XX  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps Team Lead

