# –î–∞–Ω–Ω—ã–µ, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ Kommo CRM —á–µ—Ä–µ–∑ API

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-26  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Kommo API v4

---

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 1. **–í–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂ (Pipelines)**

**Endpoint:** `GET /api/v4/leads/pipelines`

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –≤–æ—Ä–æ–Ω–∫–∏
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –≤–æ—Ä–æ–Ω–∫–∏
- `sort` - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `is_main` - –û—Å–Ω–æ–≤–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞ (boolean)
- `is_unsorted_on` - –í–∫–ª—é—á–µ–Ω–∞ –ª–∏ –Ω–µ—Ä–∞–∑–æ–±—Ä–∞–Ω–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞
- `is_archive` - –ê—Ä—Ö–∏–≤–Ω–∞—è –≤–æ—Ä–æ–Ω–∫–∞ (boolean)
- `account_id` - ID –∞–∫–∫–∞—É–Ω—Ç–∞
- `_embedded.statuses` - –≠—Ç–∞–ø—ã –≤–æ—Ä–æ–Ω–∫–∏:
  - `id` - ID —ç—Ç–∞–ø–∞
  - `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
  - `sort` - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  - `color` - –¶–≤–µ—Ç —ç—Ç–∞–ø–∞
  - `type` - –¢–∏–ø —ç—Ç–∞–ø–∞ (0-3)
  - `is_editable` - –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π (boolean)

**–ú–µ—Ç–æ–¥ –≤ –∫–æ–¥–µ:** `getPipelines()`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –í—ã–±–æ—Ä –≤–æ—Ä–æ–Ω–æ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç—Ç–∞–ø–æ–≤ –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–¥–µ–ª–æ–∫ –ø–æ –≤–æ—Ä–æ–Ω–∫–∞–º

---

### 2. **–≠—Ç–∞–ø—ã –≤–æ—Ä–æ–Ω–æ–∫ (Pipeline Stages / Statuses)**

**Endpoint:** `GET /api/v4/leads/pipelines/{pipeline_id}`

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID —ç—Ç–∞–ø–∞
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞
- `sort` - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `color` - –¶–≤–µ—Ç —ç—Ç–∞–ø–∞ (hex)
- `type` - –¢–∏–ø —ç—Ç–∞–ø–∞:
  - `0` - –û–±—ã—á–Ω—ã–π —ç—Ç–∞–ø
  - `1` - –£—Å–ø–µ—à–Ω—ã–π —ç—Ç–∞–ø
  - `2` - –ù–µ—É—Å–ø–µ—à–Ω—ã–π —ç—Ç–∞–ø
  - `3` - –ü–µ—Ä–≤–∏—á–Ω—ã–π —ç—Ç–∞–ø
- `is_editable` - –ú–æ–∂–Ω–æ –ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- `pipeline_id` - ID –≤–æ—Ä–æ–Ω–∫–∏

**–ú–µ—Ç–æ–¥ –≤ –∫–æ–¥–µ:** `getPipelines()` (–≤–ª–æ–∂–µ–Ω–æ –≤ `_embedded.statuses`)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –ø–æ —ç—Ç–∞–ø–∞–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫
- –£—Å–ª–æ–≤–∏—è –¥–ª—è —Ü–µ–ø–æ—á–µ–∫

---

### 3. **–°–¥–µ–ª–∫–∏ (Leads)**

**Endpoints:**
- `GET /api/v4/leads` - –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫
- `GET /api/v4/leads/{id}` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å–¥–µ–ª–∫–∞
- `POST /api/v4/leads` - –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- `PATCH /api/v4/leads` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID —Å–¥–µ–ª–∫–∏
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- `price` - –°—É–º–º–∞ —Å–¥–µ–ª–∫–∏
- `status_id` - ID —ç—Ç–∞–ø–∞
- `pipeline_id` - ID –≤–æ—Ä–æ–Ω–∫–∏
- `responsible_user_id` - ID –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (timestamp)
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (timestamp)
- `closed_at` - –î–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è (timestamp)
- `closest_task_at` - –ë–ª–∏–∂–∞–π—à–∞—è –∑–∞–¥–∞—á–∞ (timestamp)
- `is_deleted` - –£–¥–∞–ª–µ–Ω–∞ (boolean)
- `score` - –û—Ü–µ–Ω–∫–∞ —Å–¥–µ–ª–∫–∏
- `account_id` - ID –∞–∫–∫–∞—É–Ω—Ç–∞
- `loss_reason_id` - ID –ø—Ä–∏—á–∏–Ω—ã –ø–æ—Ç–µ—Ä–∏
- `custom_fields_values` - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è:
  - `field_id` - ID –ø–æ–ª—è
  - `field_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è
  - `values` - –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π:
    - `value` - –ó–Ω–∞—á–µ–Ω–∏–µ
    - `enum_id` - ID –∑–Ω–∞—á–µ–Ω–∏—è (–¥–ª—è select)
    - `enum_code` - –ö–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è
- `_embedded.contacts` - –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã:
  - `id` - ID –∫–æ–Ω—Ç–∞–∫—Ç–∞
  - `is_main` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–∞–∫—Ç (boolean)
- `_embedded.companies` - –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏:
  - `id` - ID –∫–æ–º–ø–∞–Ω–∏–∏
  - `is_main` - –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è (boolean)
- `_embedded.tags` - –¢–µ–≥–∏:
  - `id` - ID —Ç–µ–≥–∞
  - `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `getLead(leadId)` - –ü–æ–ª—É—á–∏—Ç—å —Å–¥–µ–ª–∫—É
- `getLeads()` - –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫
- `createLead(lead)` - –°–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É
- `updateLead(leadId, lead)` - –û–±–Ω–æ–≤–∏—Ç—å —Å–¥–µ–ª–∫—É
- `searchLeads(query)` - –ü–æ–∏—Å–∫ —Å–¥–µ–ª–æ–∫

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–¥–µ–ª–∫–∏ –¥–ª—è –∞–≥–µ–Ω—Ç–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π —Å–¥–µ–ª–∫–∏
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ —ç—Ç–∞–ø–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫

---

### 4. **–ö–æ–Ω—Ç–∞–∫—Ç—ã (Contacts)**

**Endpoints:**
- `GET /api/v4/contacts` - –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- `GET /api/v4/contacts/{id}` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç
- `POST /api/v4/contacts` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `PATCH /api/v4/contacts` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `name` - –ò–º—è –∫–æ–Ω—Ç–∞–∫—Ç–∞
- `first_name` - –ò–º—è
- `last_name` - –§–∞–º–∏–ª–∏—è
- `responsible_user_id` - ID –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- `created_by` - ID —Å–æ–∑–¥–∞—Ç–µ–ª—è
- `updated_by` - ID –æ–±–Ω–æ–≤–∏–≤—à–µ–≥–æ
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (timestamp)
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (timestamp)
- `is_deleted` - –£–¥–∞–ª–µ–Ω (boolean)
- `account_id` - ID –∞–∫–∫–∞—É–Ω—Ç–∞
- `custom_fields_values` - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è:
  - `field_id` - ID –ø–æ–ª—è
  - `field_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è
  - `values` - –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π:
    - `value` - –ó–Ω–∞—á–µ–Ω–∏–µ
    - `enum_id` - ID –∑–Ω–∞—á–µ–Ω–∏—è (–¥–ª—è select)
    - `enum_code` - –ö–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è
- `_embedded.companies` - –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `_embedded.leads` - –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏
- `_embedded.tags` - –¢–µ–≥–∏

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `getContact(contactId)` - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
- `createContact(contact)` - –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
- `updateContact(contactId, contact)` - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
- `searchContacts(query)` - –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–∞ –¥–ª—è –∞–≥–µ–Ω—Ç–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –∫–æ–Ω—Ç–∞–∫—Ç–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤

---

### 5. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è (Custom Fields)**

**Endpoint:** `GET /api/v4/custom_fields`

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –ø–æ–ª—è
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è
- `type` - –¢–∏–ø –ø–æ–ª—è:
  - `text` - –¢–µ–∫—Å—Ç
  - `numeric` - –ß–∏—Å–ª–æ
  - `checkbox` - –ß–µ–∫–±–æ–∫—Å
  - `select` - –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
  - `multiselect` - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
  - `date` - –î–∞—Ç–∞
  - `url` - URL
  - `textarea` - –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç
  - `radiobutton` - –†–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∞
  - `streetaddress` - –ê–¥—Ä–µ—Å
  - `smart_address` - –£–º–Ω—ã–π –∞–¥—Ä–µ—Å
  - `birthday` - –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
  - `legal_entity` - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ
  - `items` - –¢–æ–≤–∞—Ä—ã
  - `org_legal_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  - `linked_entity` - –°–≤—è–∑–∞–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å
- `element_type` - –¢–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏:
  - `contact` - –ö–æ–Ω—Ç–∞–∫—Ç
  - `lead` - –°–¥–µ–ª–∫–∞
  - `company` - –ö–æ–º–ø–∞–Ω–∏—è
  - `task` - –ó–∞–¥–∞—á–∞
- `sort` - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `code` - –ö–æ–¥ –ø–æ–ª—è
- `is_required` - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ (boolean)
- `is_deletable` - –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å (boolean)
- `is_visible` - –í–∏–¥–∏–º–æ–µ (boolean)
- `is_api_only` - –¢–æ–ª—å–∫–æ –¥–ª—è API (boolean)
- `enums` - –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª—è select/multiselect (Record<string, string>)
- `nested` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è:
  - `id` - ID –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—è
  - `name` - –ù–∞–∑–≤–∞–Ω–∏–µ
  - `sort` - –ü–æ—Ä—è–¥–æ–∫

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `getCustomFields()` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
- `createCustomField(field)` - –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –í—ã–±–æ—Ä –ø–æ–ª–µ–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∞–≥–µ–Ω—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

### 6. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Users)**

**Endpoint:** `GET /api/v4/users`

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `name` - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `email` - Email
- `lang` - –Ø–∑—ã–∫
- `rights` - –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- `is_active` - –ê–∫—Ç–∏–≤–µ–Ω (boolean)
- `is_admin` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (boolean)
- `is_free` - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π (boolean)
- `group_id` - ID –≥—Ä—É–ø–ø—ã
- `role_id` - ID —Ä–æ–ª–∏

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `getUsers()` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

### 7. **–ó–∞–¥–∞—á–∏ (Tasks)**

**Endpoints:**
- `GET /api/v4/tasks` - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `POST /api/v4/tasks` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `PATCH /api/v4/tasks` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –∑–∞–¥–∞—á–∏
- `text` - –¢–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏
- `complete_till` - –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (timestamp)
- `task_type_id` - ID —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏
- `responsible_user_id` - ID –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- `entity_id` - ID —Å—É—â–Ω–æ—Å—Ç–∏ (—Å–¥–µ–ª–∫–∞/–∫–æ–Ω—Ç–∞–∫—Ç/–∫–æ–º–ø–∞–Ω–∏—è)
- `entity_type` - –¢–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏:
  - `leads` - –°–¥–µ–ª–∫–∞
  - `contacts` - –ö–æ–Ω—Ç–∞–∫—Ç
  - `companies` - –ö–æ–º–ø–∞–Ω–∏—è
- `created_by` - ID —Å–æ–∑–¥–∞—Ç–µ–ª—è
- `updated_by` - ID –æ–±–Ω–æ–≤–∏–≤—à–µ–≥–æ
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (timestamp)
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (timestamp)
- `is_completed` - –í—ã–ø–æ–ª–Ω–µ–Ω–∞ (boolean)
- `result` - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `createTask(task)` - –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
- `updateTask(taskId, task)` - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É
- `getTasksByEntity(entityId, entityType)` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ —Å—É—â–Ω–æ—Å—Ç–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

### 8. **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è (Notes)**

**Endpoints:**
- `GET /api/v4/{entity_type}/{entity_id}/notes` - –°–ø–∏—Å–æ–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏–π
- `POST /api/v4/{entity_type}/{entity_id}/notes` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –ø—Ä–∏–º–µ—á–∞–Ω–∏—è
- `entity_id` - ID —Å—É—â–Ω–æ—Å—Ç–∏
- `entity_type` - –¢–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏:
  - `leads` - –°–¥–µ–ª–∫–∞
  - `contacts` - –ö–æ–Ω—Ç–∞–∫—Ç
  - `companies` - –ö–æ–º–ø–∞–Ω–∏—è
- `note_type` - –¢–∏–ø –ø—Ä–∏–º–µ—á–∞–Ω–∏—è:
  - `common` - –û–±—ã—á–Ω–æ–µ
  - `call_in` - –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫
  - `call_out` - –ò—Å—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫
  - `meeting` - –í—Å—Ç—Ä–µ—á–∞
  - `mail_message` - Email —Å–æ–æ–±—â–µ–Ω–∏–µ
  - `sms_in` - –í—Ö–æ–¥—è—â–µ–µ SMS
  - `sms_out` - –ò—Å—Ö–æ–¥—è—â–µ–µ SMS
  - `whatsapp_message` - WhatsApp —Å–æ–æ–±—â–µ–Ω–∏–µ
- `params` - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–º–µ—á–∞–Ω–∏—è:
  - `text` - –¢–µ–∫—Å—Ç
  - `html` - HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
  - `subject` - –¢–µ–º–∞ (–¥–ª—è email)
  - `from` - –û—Ç (–¥–ª—è email/SMS)
  - `to` - –ö–æ–º—É (–¥–ª—è email/SMS)
  - `status` - –°—Ç–∞—Ç—É—Å (–¥–ª—è email: 1=–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, 0=—á–µ—Ä–Ω–æ–≤–∏–∫)
  - `duration` - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–¥–ª—è –∑–≤–æ–Ω–∫–æ–≤)
  - `source` - –ò—Å—Ç–æ—á–Ω–∏–∫
  - `link` - –°—Å—ã–ª–∫–∞
  - `phone` - –¢–µ–ª–µ—Ñ–æ–Ω (–¥–ª—è –∑–≤–æ–Ω–∫–æ–≤/SMS)
  - `uniq` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `created_by` - ID —Å–æ–∑–¥–∞—Ç–µ–ª—è
- `updated_by` - ID –æ–±–Ω–æ–≤–∏–≤—à–µ–≥–æ
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (timestamp)
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (timestamp)

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `createNote(note)` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ
- `getNotesByEntity(entityId, entityType)` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Å—É—â–Ω–æ—Å—Ç–∏
- `sendEmailFromLead(leadId, emailData)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å email —á–µ—Ä–µ–∑ —Å–¥–µ–ª–∫—É
- `createCallNote(entityId, entityType, callData)` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –∑–≤–æ–Ω–∫–µ
- `createMeetingNote(entityId, entityType, meetingData)` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –≤—Å—Ç—Ä–µ—á–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∞–≥–µ–Ω—Ç–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º
- –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π

---

### 9. **–ö–æ–º–ø–∞–Ω–∏–∏ (Companies)**

**Endpoints:**
- `GET /api/v4/companies` - –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π
- `GET /api/v4/companies/{id}` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è
- `POST /api/v4/companies` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `PATCH /api/v4/companies` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –∫–æ–º–ø–∞–Ω–∏–∏
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `responsible_user_id` - ID –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (timestamp)
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (timestamp)
- `custom_fields_values` - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
- `_embedded.contacts` - –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã
- `_embedded.leads` - –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏
- `_embedded.tags` - –¢–µ–≥–∏

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:** (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ API)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–ø–∞–Ω–∏—è–º–∏
- –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ —Å–¥–µ–ª–æ–∫

---

### 10. **–¢–µ–≥–∏ (Tags)**

**Endpoint:** `GET /api/v4/tags`

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID —Ç–µ–≥–∞
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞
- `color` - –¶–≤–µ—Ç —Ç–µ–≥–∞

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:** (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ API)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–¥–µ–ª–æ–∫/–∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

---

### 11. **–ê–∫–∫–∞—É–Ω—Ç (Account)**

**Endpoint:** `GET /api/v4/account`

**–î–∞–Ω–Ω—ã–µ:**
- `id` - ID –∞–∫–∫–∞—É–Ω—Ç–∞
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
- `subdomain` - –ü–æ–¥–¥–æ–º–µ–Ω
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (timestamp)
- `currency` - –í–∞–ª—é—Ç–∞
- `timezone` - –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
- `timezone_offset` - –°–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:** (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ API)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–∫–∫–∞—É–Ω—Ç–∞

---

### 12. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Stats)**

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `getLeadsStats()` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–¥–µ–ª–∫–∞–º:
  - `total` - –í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫
  - `by_status` - –ü–æ —ç—Ç–∞–ø–∞–º (Record<status_id, count>)
  - `by_pipeline` - –ü–æ –≤–æ—Ä–æ–Ω–∫–∞–º (Record<pipeline_id, count>)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –û—Ç—á–µ—Ç—ã
- Dashboard

---

## üîÑ Webhooks (–í—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è)

**Endpoint:** `POST /api/crm/webhook` (–Ω–∞—à endpoint)

**–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:**
- `leads` - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–¥–µ–ª–∫–∞—Ö
- `contacts` - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö
- `customers` - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö
- `tasks` - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∑–∞–¥–∞—á–∞—Ö
- `messages` - –°–æ–æ–±—â–µ–Ω–∏—è
- `calls` - –ó–≤–æ–Ω–∫–∏
- `companies` - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–º–ø–∞–Ω–∏—è—Ö

**–§–æ—Ä–º–∞—Ç:**
```json
{
  "account": {
    "base_domain": "subdomain.kommo.com"
  },
  "leads": {
    "status": [{ "id": 123, "status_id": 456, ... }],
    "add": [{ "id": 123, ... }],
    "update": [{ "id": 123, ... }],
    "delete": [{ "id": 123 }]
  }
}
```

**–ú–µ—Ç–æ–¥—ã –≤ –∫–æ–¥–µ:**
- `KommoAPI.parseWebhook(payload)` - –ü–∞—Ä—Å–∏–Ω–≥ webhook

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üìä –ö–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏ (Channels)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–∞–Ω–∞–ª—ã –Ω–µ –∏–º–µ—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ API endpoint, –Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑:
- –¢–∏–ø—ã –ø—Ä–∏–º–µ—á–∞–Ω–∏–π (`note_type`):
  - `mail_message` - Email
  - `sms_in` / `sms_out` - SMS
  - `whatsapp_message` - WhatsApp
  - `call_in` / `call_out` - –ó–≤–æ–Ω–∫–∏
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Å–¥–µ–ª–æ–∫ (`source` –≤ custom fields)
- Webhooks –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–∞
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞–Ω–∞–ª–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º

---

## üéØ –î–µ–π—Å—Ç–≤–∏—è (Actions)

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ API:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫:**
   - `createLead()` - –°–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É
   - `updateLead()` - –û–±–Ω–æ–≤–∏—Ç—å —Å–¥–µ–ª–∫—É
   - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ —ç—Ç–∞–ø–∞–º (—á–µ—Ä–µ–∑ `updateLead` —Å `status_id`)

2. **–°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤:**
   - `createContact()` - –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç
   - `updateContact()` - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç

3. **–†–∞–±–æ—Ç–∞ —Å –∑–∞–¥–∞—á–∞–º–∏:**
   - `createTask()` - –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
   - `updateTask()` - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É

4. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**
   - `sendEmailFromLead()` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å email
   - `createNote()` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ (–ª—é–±–æ–≥–æ —Ç–∏–ø–∞)

5. **–†–∞–±–æ—Ç–∞ —Å –∑–≤–æ–Ω–∫–∞–º–∏:**
   - `createCallNote()` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –∑–≤–æ–Ω–∫–µ

6. **–†–∞–±–æ—Ç–∞ —Å–æ –≤—Å—Ç—Ä–µ—á–∞–º–∏:**
   - `createMeetingNote()` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –≤—Å—Ç—Ä–µ—á–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- –¶–µ–ø–æ—á–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π

---

## üìù –†–µ–∑—é–º–µ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å (—Ç–æ–ª—å–∫–æ –ø–æ –∫–Ω–æ–ø–∫–µ):

1. **–í–æ—Ä–æ–Ω–∫–∏ (Pipelines)** - `getPipelines()`
2. **–≠—Ç–∞–ø—ã (Stages)** - –≤–ª–æ–∂–µ–Ω—ã –≤ `getPipelines()`
3. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è —Å–¥–µ–ª–æ–∫** - `getCustomFields()` —Å `element_type: 'lead'`
4. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤** - `getCustomFields()` —Å `element_type: 'contact'`
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - `getUsers()`
6. **–ö–∞–Ω–∞–ª—ã** - –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–∏–ø—ã –ø—Ä–∏–º–µ—á–∞–Ω–∏–π –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ webhooks):

- –°–æ–±—ã—Ç–∏—è –ø–æ —Å–¥–µ–ª–∫–∞–º
- –°–æ–±—ã—Ç–∏—è –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º
- –°–æ–æ–±—â–µ–Ω–∏—è
- –ó–≤–æ–Ω–∫–∏
- –ó–∞–¥–∞—á–∏

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫—ç—à–∞

```typescript
interface KommoSyncCache {
  pipelines: Array<{
    id: number
    name: string
    stages: Array<{
      id: number
      name: string
      sort: number
      color: string
      type: number
    }>
  }>
  dealFields: Array<{
    id: number
    name: string
    type: string
    enums?: Record<string, string>
  }>
  contactFields: Array<{
    id: number
    name: string
    type: string
    enums?: Record<string, string>
  }>
  users: Array<{
    id: number
    name: string
    email: string
  }>
  channels: Array<{
    id: string
    name: string
    type: string
  }>
}
```

### 2. API endpoints –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```
POST /api/kommo/sync                    # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
GET  /api/kommo/sync/status             # –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
GET  /api/kommo/pipelines               # –ü–æ–ª—É—á–∏—Ç—å –≤–æ—Ä–æ–Ω–∫–∏ (–∏–∑ –∫—ç—à–∞)
GET  /api/kommo/stages                   # –ü–æ–ª—É—á–∏—Ç—å —ç—Ç–∞–ø—ã (–∏–∑ –∫—ç—à–∞)
GET  /api/kommo/deal-fields              # –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—è —Å–¥–µ–ª–æ–∫ (–∏–∑ –∫—ç—à–∞)
GET  /api/kommo/contact-fields           # –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (–∏–∑ –∫—ç—à–∞)
GET  /api/kommo/users                    # –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–∑ –∫—ç—à–∞)
GET  /api/kommo/channels                 # –ü–æ–ª—É—á–∏—Ç—å –∫–∞–Ω–∞–ª—ã (–∏–∑ –∫—ç—à–∞)
```

### 3. –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤/—Ü–µ–ø–æ—á–µ–∫

```typescript
type KommoAction = 
  | { type: 'create_task', task: KommoTask }
  | { type: 'update_lead', leadId: number, data: Partial<KommoLead> }
  | { type: 'update_contact', contactId: number, data: Partial<KommoContact> }
  | { type: 'move_lead', leadId: number, statusId: number }
  | { type: 'send_email', leadId: number, email: KommoEmailMessage }
  | { type: 'create_note', note: KommoNote }
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26

