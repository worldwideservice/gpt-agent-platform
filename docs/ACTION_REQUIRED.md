# ‚ö° –î–ï–ô–°–¢–í–ò–Ø –¢–†–ï–ë–£–Æ–¢–°–Ø

**–î–∞—Ç–∞:** 2025-01-26  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ù–û

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
1. ‚úÖ Worker Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ
2. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Kommo - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Job Queue)
3. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Rule Engine - –¥–æ–±–∞–≤–ª–µ–Ω–æ
4. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Sequences - –¥–æ–±–∞–≤–ª–µ–Ω–æ
5. ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ main

### ‚ùå –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
1. ‚ùå **Worker –ù–ï –∑–∞–¥–µ–ø–ª–æ–µ–Ω** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—â–µ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
2. ‚ùå Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å—Ç–∞—Ä—ã–π –¥–µ–ø–ª–æ–π

---

## üöÄ –®–ê–ì 1: –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å Worker (–ö–†–ò–¢–ò–ß–ù–û)

### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (–µ—Å–ª–∏ Railway –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ GitHub)

**–ï—Å–ª–∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ main:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Railway Dashboard: https://railway.app
2. –ù–∞–π—Ç–∏ –ø—Ä–æ–µ–∫—Ç: `gpt-agent-platform-production`
3. –í—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–∏—Å: `Worker`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "Deployments" - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
5. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ ‚úÖ)

**–ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –°–º. –í–∞—Ä–∏–∞–Ω—Ç B –Ω–∏–∂–µ

### –í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Railway Dashboard

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** `docs/DEPLOY_WORKER_NOW.md`

**–ö—Ä–∞—Ç–∫–æ:**
1. –û—Ç–∫—Ä—ã—Ç—å: https://railway.app
2. –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ‚Üí Worker —Å–µ—Ä–≤–∏—Å
3. **Settings** ‚Üí **Source**
4. –ù–∞–∂–∞—Ç—å **"Redeploy"** –∏–ª–∏ **"Deploy"**
5. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç C: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Railway CLI

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Railway CLI (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
npm i -g @railway/cli

# 2. –í–æ–π—Ç–∏ –≤ Railway
railway login

# 3. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Worker
cd services/worker

# 4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
railway up
```

---

## ‚úÖ –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Worker –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è:**

```bash
./scripts/check-worker-health.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "status": "ok",
  "redis": {
    "connected": true
  }
}
```

**–ï—Å–ª–∏ Redis –≤—Å–µ –µ—â–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Worker
- –°–º. `docs/DEPLOY_WORKER_NOW.md` —Ä–∞–∑–¥–µ–ª "–ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –Ω–µ –ø–æ–º–æ–≥"

---

## üìã –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è Worker:**

–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: `docs/VERIFICATION_STEPS.md`

**–ö—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫:**
1. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Kommo
2. ‚úÖ Dashboard Recent Updates
3. ‚úÖ Test Chat
4. ‚úÖ Scripts
5. ‚úÖ Rule Engine
6. ‚úÖ Sequences

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´

### üî¥ –ö–†–ò–¢–ò–ß–ù–û (—Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å):
1. **–ó–∞–¥–µ–ø–ª–æ–∏—Ç—å Worker** - –±–µ–∑ —ç—Ç–æ–≥–æ Redis –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å health check** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Redis –ø–æ–¥–∫–ª—é—á–µ–Ω

### üü° –í–ê–ñ–ù–û (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è):
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é Kommo
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Dashboard Updates
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/DEPLOY_WORKER_NOW.md`
- –õ–æ–≥–∏ Worker: Railway Dashboard ‚Üí Worker ‚Üí Logs
- Health Check: `./scripts/check-worker-health.sh`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å Worker –Ω–∞ Railway

