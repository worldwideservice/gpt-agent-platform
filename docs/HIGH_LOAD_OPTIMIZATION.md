# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-26  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–¶–µ–ª–µ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:** 135,000 - 450,000 jobs/–¥–µ–Ω—å

---

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–º —Ä–æ—Å—Ç–æ–º –¥–æ 450,000 jobs –≤ –¥–µ–Ω—å. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. ‚ö° –£–≤–µ–ª–∏—á–µ–Ω–∏–µ Concurrency

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** `JOB_CONCURRENCY` —É–≤–µ–ª–∏—á–µ–Ω —Å 5 –¥–æ 25

**–§–∞–π–ª:** `services/worker/src/lib/env.ts`

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ 135k jobs/–¥–µ–Ω—å = ~1.5 jobs/—Å–µ–∫
- Concurrency 25 –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ 25 jobs –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```typescript
JOB_CONCURRENCY: z.coerce.number().int().positive().default(25)
```

---

### 2. üîÑ Retry Strategy –¥–ª—è BullMQ Jobs

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ retry —Å exponential backoff

**–§–∞–π–ª—ã:**
- `services/worker/src/index.ts` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Worker
- `services/worker/src/lib/job-retry.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è retry –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ jobs

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Exponential backoff: 2s ‚Üí 4s ‚Üí 8s ‚Üí 16s ‚Üí 32s
- 5 –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö jobs
- 10 –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö jobs (CRM, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
- 3 –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö jobs (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö jobs (success: 24h, failed: 7 –¥–Ω–µ–π)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
```typescript
removeOnComplete: {
  count: 1000,
  age: 24 * 3600, // 24 —á–∞—Å–∞
},
removeOnFail: {
  count: 5000,
  age: 7 * 24 * 3600, // 7 –¥–Ω–µ–π
},
lockDuration: 30000, // 30 —Å–µ–∫—É–Ω–¥
lockRenewTime: 15000, // 15 —Å–µ–∫—É–Ω–¥
```

---

### 3. üîç –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Sentry SDK

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Sentry –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫

**–§–∞–π–ª—ã:**
- `services/worker/src/lib/sentry.ts` - –º–æ–¥—É–ª—å Sentry
- `services/worker/src/index.ts` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Worker
- `services/worker/package.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ jobs
- Performance monitoring (100% —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞)
- Profiling (10% –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Ç–µ–≥–∏

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ Railway –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NODE_ENV=production
```

---

### 4. üõ°Ô∏è Rate Limiting –¥–ª—è OpenRouter API

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω rate limiter –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API

**–§–∞–π–ª:** `services/worker/src/lib/openrouter-rate-limit.ts`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –õ–∏–º–∏—Ç—ã: 100/–º–∏–Ω, 5000/—á–∞—Å, 100000/–¥–µ–Ω—å (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —Å exponential backoff
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Redis –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ rate limiting

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import { OpenRouterRateLimiter } from './lib/openrouter-rate-limit'

const rateLimiter = new OpenRouterRateLimiter(redisConnection)

await rateLimiter.withRateLimit(
  organizationId,
  async () => {
    // –í—ã–∑–æ–≤ OpenRouter API
    return await callOpenRouter(apiKey, request)
  }
)
```

---

### 5. üóÑÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Supabase Connection Pooling

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–µ–Ω Supabase –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

**–§–∞–π–ª:** `services/worker/src/lib/supabase.ts`

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –û—Ç–∫–ª—é—á–µ–Ω–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–π (–Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è worker)
- –û—Ç–∫–ª—é—á–µ–Ω auto refresh —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è service role)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ worker —Å–µ—Ä–≤–∏—Å–∞
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ connection pooling —á–µ—Ä–µ–∑ Supabase Pooler

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Supabase Connection Pooler –¥–ª—è production
- URL Pooler: `postgresql://postgres.<project-ref>:<password>@aws-0-<region>.pooler.supabase.com:6543/postgres`
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `max_client_conn` –∏ `default_pool_size` –≤ Supabase Dashboard

---

### 6. üìà –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ Worker

**–§–∞–π–ª:** `services/worker/railway.json`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
```json
{
  "deploy": {
    "numReplicas": 2,  // –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 1 –¥–æ 2
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–µ—Å–ª–∏ –æ–¥–∏–Ω –∏–Ω—Å—Ç–∞–Ω—Å –ø–∞–¥–∞–µ—Ç, –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (2x –æ–±—Ä–∞–±–æ—Ç–∫–∞ jobs)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–æ 3-5 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏)

---

### 7. üìä –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–µ–Ω Prometheus + Grafana + Alertmanager

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `monitoring/`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **Prometheus** - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å Worker –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
- **Grafana** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∏ –¥–∞—à–±–æ—Ä–¥—ã
- **Alertmanager** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

**–ú–µ—Ç—Ä–∏–∫–∏:**
- `worker_jobs_total` - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ jobs
- `worker_jobs_completed_total` - –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ jobs
- `worker_jobs_failed_total` - –ù–µ—É–¥–∞—á–Ω—ã–µ jobs
- `worker_jobs_processing` - Jobs –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ
- `worker_job_duration_seconds` - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ jobs
- `worker_redis_connection_status` - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Redis
- `worker_redis_reconnect_attempts_total` - –ü–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Redis

**–ê–ª–µ—Ä—Ç—ã:**
1. WorkerDown - Worker –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–∫—Ä–∏—Ç–∏—á–Ω–æ)
2. HighJobFailureRate - –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
3. RedisDisconnected - Redis –æ—Ç–∫–ª—é—á–µ–Ω (–∫—Ä–∏—Ç–∏—á–Ω–æ)
4. HighJobProcessingTime - –í—ã—Å–æ–∫–æ–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
5. HighJobProcessingQueue - –ë–æ–ª—å—à–∞—è –æ—á–µ—Ä–µ–¥—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
6. HighRedisReconnectAttempts - –ß–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
7. LowWorkerThroughput - –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)

**–ó–∞–ø—É—Å–∫:**
```bash
cd monitoring
docker-compose up -d
```

---

## üìä –†–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (135,000 jobs/–¥–µ–Ω—å)

- **Jobs –≤ —Å–µ–∫—É–Ω–¥—É:** ~1.5 jobs/sec
- **Concurrency:** 25 jobs –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** ~15-20 —Å–µ–∫—É–Ω–¥ –Ω–∞ job
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** ~25 jobs/sec (–ø—Ä–∏ concurrency 25)
- **–ó–∞–ø–∞—Å:** ~16x –æ—Ç —Ç–µ–∫—É—â–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏

### –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (450,000 jobs/–¥–µ–Ω—å)

- **Jobs –≤ —Å–µ–∫—É–Ω–¥—É:** ~5.2 jobs/sec
- **Concurrency:** 25 jobs –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** ~15-20 —Å–µ–∫—É–Ω–¥ –Ω–∞ job
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:** ~25 jobs/sec (–ø—Ä–∏ concurrency 25)
- **–ó–∞–ø–∞—Å:** ~5x –æ—Ç –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ

- **2 —Ä–µ–ø–ª–∏–∫–∏:** ~50 jobs/sec (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 450k jobs/–¥–µ–Ω—å)
- **3 —Ä–µ–ø–ª–∏–∫–∏:** ~75 jobs/sec (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 1.35M jobs/–¥–µ–Ω—å)
- **5 —Ä–µ–ø–ª–∏–∫:** ~125 jobs/sec (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 2.25M jobs/–¥–µ–Ω—å)

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```bash
# Redis
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token

# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Encryption
ENCRYPTION_KEY=your-32-char-encryption-key

# Job Queue
JOB_QUEUE_NAME=agent-jobs
JOB_CONCURRENCY=25  # –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NODE_ENV=production
OPENROUTER_API_KEY=your-openrouter-key
```

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 1M jobs/–¥–µ–Ω—å:

1. **–£–≤–µ–ª–∏—á–∏—Ç—å numReplicas –¥–æ 3-5**
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase Connection Pooler**
3. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis Cluster**
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Railway**
5. **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ OpenRouter API –ª–∏–º–∏—Ç–æ–≤**

### –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 5M jobs/–¥–µ–Ω—å:

1. **–†–∞–∑–¥–µ–ª–∏—Ç—å –æ—á–µ—Ä–µ–¥–∏ –ø–æ —Ç–∏–ø–∞–º jobs** (critical, normal, low-priority)
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—é jobs**
3. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Kafka –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π**
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Worker –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤**
5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase (–∏–Ω–¥–µ–∫—Å—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)**

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Worker Monitoring Documentation](./WORKER_MONITORING.md)
- [Monitoring Stack README](../monitoring/README.md)
- [Sentry Integration](./SENTRY_WORKER_ALERTS.md)
- [Disaster Recovery Plan](./DISASTER_RECOVERY_PLAN.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26

