# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å REDIS_URL

**–î–∞—Ç–∞:** 2025-01-26  
**–ü—Ä–æ–±–ª–µ–º–∞:** Worker –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `REDIS_URL` –≤–º–µ—Å—Ç–æ `UPSTASH_REDIS_REST_URL`

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Worker –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `REDIS_URL` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å:
```typescript
if (process.env.REDIS_URL && process.env.REDIS_URL.startsWith('rediss://')) {
  redisUrl = process.env.REDIS_URL
}
```

–í Railway –±—ã–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `REDIS_URL` —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ö–æ—Å—Ç–æ–º:
- `REDIS_URL` = `rediss://...40416.upstash.io:6380` ‚ùå (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö–æ—Å—Ç)
- `UPSTASH_REDIS_REST_URL` = `https://composed-primate-14678.upstash.io` ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö–æ—Å—Ç)

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

**–£–¥–∞–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `REDIS_URL` –∏–∑ Railway**, —á—Ç–æ–±—ã Worker –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ `UPSTASH_REDIS_REST_URL` –∏ —Ç–æ–∫–µ–Ω–∞.

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
railway variables --remove REDIS_URL
```

---

## üìä –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

Worker —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—è—Ç—å `REDIS_URL` - –Ω–µ –Ω–∞–π–¥–µ—Ç (—É–¥–∞–ª–µ–Ω)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `UPSTASH_REDIS_REST_URL` = `https://composed-primate-14678.upstash.io`
3. –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL: `rediss://default:TOKEN@composed-primate-14678.upstash.io:6380`

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —Ä–µ–¥–µ–ø–ª–æ—è Worker:

```bash
./scripts/check-worker-health.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Redis: –ü–û–î–ö–õ–Æ–ß–ï–ù
- ‚úÖ –•–æ—Å—Ç: `composed-primate-14678.upstash.io`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ DNS

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26

