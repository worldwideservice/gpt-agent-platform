# üî¥ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ DNS –¥–ª—è Redis

**–î–∞—Ç–∞:** 2025-01-26  
**–ü—Ä–æ–±–ª–µ–º–∞:** `getaddrinfo ENOTFOUND usw1-merry-term-40416.upstash.io`

---

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Worker –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis –∏–∑-–∑–∞ DNS –æ—à–∏–±–∫–∏:
```
getaddrinfo ENOTFOUND usw1-merry-term-40416.upstash.io
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:
- –•–æ—Å—Ç `usw1-merry-term-40416.upstash.io` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –í–æ–∑–º–æ–∂–Ω–æ, Upstash –∏–Ω—Å—Ç–∞–Ω—Å –±—ã–ª —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `UPSTASH_REDIS_REST_URL`

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Upstash Dashboard

1. –û—Ç–∫—Ä—ã—Ç—å: https://console.upstash.com
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ Redis –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
3. –ù–∞–π—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Å—Ç–∞–Ω—Å
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π REST URL

**–§–æ—Ä–º–∞—Ç REST URL:**
```
https://your-redis-name.upstash.io
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

1. –û—Ç–∫—Ä—ã—Ç—å Railway Dashboard: https://railway.app
2. –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ‚Üí Worker —Å–µ—Ä–≤–∏—Å
3. **Settings** ‚Üí **Variables**
4. –ù–∞–π—Ç–∏ `UPSTASH_REDIS_REST_URL`
5. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –∏–∑ Upstash Dashboard
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å UPSTASH_REDIS_REST_TOKEN

–¢–∞–∫–∂–µ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `UPSTASH_REDIS_REST_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ Upstash Dashboard
- –î–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É Redis –∏–Ω—Å—Ç–∞–Ω—Å—É

### –®–∞–≥ 4: –†–µ–¥–µ–ø–ª–æ–π Worker

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–µ–ø–ª–æ–π**
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç Worker –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**–í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–π —Ä–µ–¥–µ–ø–ª–æ–π**
```bash
cd services/worker
railway up
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Dashboard:
- Settings ‚Üí Source ‚Üí Redeploy

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ CLI

```bash
cd services/worker
railway variables
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- ‚úÖ `UPSTASH_REDIS_REST_URL` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π URL
- ‚úÖ `UPSTASH_REDIS_REST_TOKEN` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω

---

## üìã –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**UPSTASH_REDIS_REST_URL:**
```
https://your-redis-name.upstash.io
```

**UPSTASH_REDIS_REST_TOKEN:**
```
AX... (—Ç–æ–∫–µ–Ω –∏–∑ Upstash Dashboard)
```

**–í–∞–∂–Ω–æ:**
- REST URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è REST API
- Worker —Å—Ç—Ä–æ–∏—Ç –ø—Ä—è–º–æ–π Redis URL –∏–∑ REST URL (–∏–∑–≤–ª–µ–∫–∞–µ—Ç hostname)
- –ï—Å–ª–∏ REST URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π - DNS –Ω–µ —Å–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ —Ö–æ—Å—Ç

---

## üéØ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ä–µ–¥–µ–ø–ª–æ—è:

```bash
./scripts/check-worker-health.sh
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Redis: –ü–û–î–ö–õ–Æ–ß–ï–ù
- ‚úÖ –ù–µ—Ç DNS –æ—à–∏–±–æ–∫

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26


