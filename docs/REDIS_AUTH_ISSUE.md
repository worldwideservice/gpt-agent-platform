# üî¥ –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π Redis

**–î–∞—Ç–∞:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

**–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö:**
```
Redis authentication failed, check UPSTASH_REDIS_REST_TOKEN
ERR DB connection timed-out or wrong username-password given
```

**–ü—Ä–∏—á–∏–Ω–∞:** 
–ü—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Upstash Redis.

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
- `UPSTASH_REDIS_REST_TOKEN` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º
- –¢–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç URL
- URL —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫: `rediss://default:${TOKEN}@${HOST}:6379`
- –í–æ–∑–º–æ–∂–Ω–æ —Ç–æ–∫–µ–Ω –Ω—É–∂–Ω–æ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ-–¥—Ä—É–≥–æ–º—É –∏–ª–∏ –Ω–µ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤–æ–æ–±—â–µ

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å Upstash
- REST Token –∏ –ø—Ä—è–º–æ–π —Ç–æ–∫–µ–Ω –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è
- –î–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –º–æ–∂–µ—Ç –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ç–æ–∫–µ–Ω

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

```bash
railway variables
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Railway Dashboard:
1. –û—Ç–∫—Ä—ã—Ç—å: https://railway.app
2. –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ‚Üí Worker —Å–µ—Ä–≤–∏—Å
3. **Settings** ‚Üí **Variables**
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - `UPSTASH_REDIS_REST_URL` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π URL
   - `UPSTASH_REDIS_REST_TOKEN` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–∑ Upstash

1. –û—Ç–∫—Ä—ã—Ç—å: https://console.upstash.com
2. –í—ã–±—Ä–∞—Ç—å Redis –∏–Ω—Å—Ç–∞–Ω—Å
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª **"Redis"** (–Ω–µ REST API)
4. –ù–∞–π—Ç–∏ **"Redis URL"** –∏–ª–∏ **"Connection String"**
5. –ò–∑–≤–ª–µ—á—å —Ç–æ–∫–µ–Ω –∏–∑ URL

**–§–æ—Ä–º–∞—Ç URL:**
```
rediss://default:TOKEN@HOST:6379
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Railway Dashboard ‚Üí Worker ‚Üí Variables:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å REST Token (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)**
- `UPSTASH_REDIS_REST_URL` - REST URL
- `UPSTASH_REDIS_REST_TOKEN` - REST Token

**–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π Redis URL (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—â–µ)**
- –ï—Å–ª–∏ –µ—Å—Ç—å `REDIS_URL` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é
- –§–æ—Ä–º–∞—Ç: `rediss://default:TOKEN@HOST:6379`

---

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ REST Token –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:

1. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä—è–º–æ–π Redis URL –∏–∑ Upstash Dashboard
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ `REDIS_URL` –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ REST URL

---

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

- [ ] `UPSTASH_REDIS_REST_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ Railway
- [ ] `UPSTASH_REDIS_REST_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ Railway
- [ ] –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π –≤ Upstash Dashboard
- [ ] Redis –∏–Ω—Å—Ç–∞–Ω—Å –∞–∫—Ç–∏–≤–µ–Ω –≤ Upstash

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26

