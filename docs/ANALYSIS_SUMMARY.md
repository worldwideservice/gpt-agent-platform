# –ò—Ç–æ–≥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

> **–î–∞—Ç–∞:** 2025-01-26  
> **–¶–µ–ª—å:** –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–∏—Å–µ

---

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã –∞–Ω–∞–ª–∏–∑–∞

### –≠—Ç–∞–ø 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ Docker & Docker Compose
- ‚úÖ Vercel & Railway –¥–µ–ø–ª–æ–π
- ‚úÖ Redis/Upstash & BullMQ
- ‚úÖ Sentry –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ Environment variables

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ OpenRouter (–æ—Å–Ω–æ–≤–Ω–æ–π AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
- ‚úÖ OpenAI Brain –∫–ª–∏–µ–Ω—Ç - **–£–î–ê–õ–ï–ù**
- ‚úÖ Kommo (amoCRM) –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Paddle –ø–ª–∞—Ç–µ–∂–∏
- ‚úÖ Product Analytics (Segment & PostHog)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏ –æ—á–∏—â–µ–Ω–æ

### –≠—Ç–∞–ø 3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ NextAuth.js (JWT, Credentials)
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞
- ‚úÖ Rate limiting
- ‚úÖ Security headers
- ‚úÖ AES-256-GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

### –≠—Ç–∞–ø 4: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Repository Pattern
- ‚úÖ Service Layer
- ‚úÖ Supabase (PostgreSQL + RLS)
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ (30 —Ñ–∞–π–ª–æ–≤)
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL (uuid-ossp, pgcrypto, vector)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

### –≠—Ç–∞–ø 5: Frontend –∏ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ 66 UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Radix UI)
- ‚úÖ Design tokens —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ Feature –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ React Hooks
- ‚úÖ Providers

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

---

## üßπ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

### –£–¥–∞–ª–µ–Ω–æ:
1. ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤:**
   - `components/features/agents/` (32 —Ñ–∞–π–ª–∞)
   - `app/manage/[tenantId]/ai-agents/`

2. ‚úÖ **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤:**
   - `lib/repositories/agents.ts`
   - `lib/repositories/agent-assets.ts`
   - `lib/repositories/agent-sequences.ts`
   - `lib/repositories/agent-pipeline-settings.ts`

3. ‚úÖ **–°–µ—Ä–≤–∏—Å—ã –∞–≥–µ–Ω—Ç–æ–≤:**
   - `lib/services/agents.ts`
   - `lib/services/agent-actions.ts`
   - `lib/services/agent-context-builder.ts`
   - `lib/services/agent-email-handler.ts`
   - `lib/services/agent-memory.ts`

4. ‚úÖ **API endpoints:**
   - `app/api/agents/` (32 —Ñ–∞–π–ª–∞)
   - `app/api/manage/[tenantId]/dashboard/stats/route.ts`
   - `app/api/manage/[tenantId]/dashboard/monthly-responses/route.ts`
   - `app/api/manage/[tenantId]/dashboard/daily-responses/route.ts`
   - `app/api/manage/[tenantId]/test-chat/agents/route.ts`
   - `app/api/chat/route.ts`

5. ‚úÖ **GraphQL:**
   - `lib/graphql/schema.ts`
   - `lib/graphql/resolvers.ts`

6. ‚úÖ **–¢–µ—Å—Ç—ã:**
   - –í—Å–µ —Ç–µ—Å—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤ (unit –∏ integration)

7. ‚úÖ **–¢–∏–ø—ã:**
   - –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã `Agent` –∏ `AgentSettings` –≤ `types/index.ts`

8. ‚úÖ **–ö—ç—à:**
   - –£–¥–∞–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤
   - –£–¥–∞–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ "–ó–∞–¥–∞—á–∞ X.X"

9. ‚úÖ **AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
   - –£–¥–∞–ª–µ–Ω OpenAI Brain –∫–ª–∏–µ–Ω—Ç
   - –ó–∞–º–µ–Ω–µ–Ω OpenAI –Ω–∞ OpenRouter –≤ embeddings

10. ‚úÖ **–°–µ—Ä–≤–∏—Å—ã:**
    - `services/api/src/lib/repositories/agents.ts`
    - `services/api/src/routes/agents.ts`

---

## ‚ö†Ô∏è –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/–æ—á–∏—Å—Ç–∏—Ç—å

### 1. Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
**–§–∞–π–ª—ã:**
- `components/features/dashboard/DashboardMetricsClient.tsx`
- `components/features/dashboard/DailyResponsesChart.tsx`
- `components/features/dashboard/MonthlyResponsesChart.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ API endpoints

**–î–µ–π—Å—Ç–≤–∏–µ:** ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å, –ª–∏–±–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å

### 2. Test Chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
**–§–∞–π–ª—ã:**
- `components/features/test-chat/TestChatClient.tsx`
- `components/features/test-chat/ChatInterface.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–î–µ–π—Å—Ç–≤–∏–µ:** ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å, –ª–∏–±–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å

### 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö
**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `lib/services/knowledge.ts` - —á–∞—Å—Ç–∏—á–Ω–æ –æ—á–∏—â–µ–Ω
- `lib/repositories/manage-data.ts` - —á–∞—Å—Ç–∏—á–Ω–æ –æ—á–∏—â–µ–Ω
- `lib/repositories/manage-summary.ts` - —á–∞—Å—Ç–∏—á–Ω–æ –æ—á–∏—â–µ–Ω
- `lib/hooks/useAgentIntegrations.ts` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- `lib/services/kommo-actions.ts` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

**–î–µ–π—Å—Ç–≤–∏–µ:** ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### 4. Worker tasks
**–§–∞–π–ª:**
- `services/worker/src/tasks/process-asset.ts` - –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥–µ–Ω—Ç–æ–≤

**–î–µ–π—Å—Ç–≤–∏–µ:** ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å

---

## ‚úÖ –ß—Ç–æ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–æ –≤—Ö–æ–¥–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É)
- ‚úÖ Landing Page (`app/page.tsx`, `app/LandingPageClient.tsx`)
- ‚úÖ Pricing (`app/pricing/page.tsx`)
- ‚úÖ Docs (`app/docs/`)
- ‚úÖ FAQ, Support, Privacy, Terms

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ Login (`app/(auth)/login/`)
- ‚úÖ Register (`app/(auth)/register/`)
- ‚úÖ Reset Password (`app/(auth)/reset-password/`)

### –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –±—Ä–µ–Ω–¥–∏–Ω–≥
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ "TON 18" –æ—Å—Ç–∞–µ—Ç—Å—è **–Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º**
- ‚úÖ –í—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ `app/layout.tsx` –æ—Å—Ç–∞—é—Ç—Å—è **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- ‚úÖ –ë—Ä–µ–Ω–¥–∏–Ω–≥ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Å—Ç–∞—é—Ç—Å—è **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –£–¥–∞–ª–µ–Ω–æ:
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** ~64 —Ñ–∞–π–ª–∞ (–∞–≥–µ–Ω—Ç—ã)
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:** 4 —Ñ–∞–π–ª–∞
- **–°–µ—Ä–≤–∏—Å—ã:** 5 —Ñ–∞–π–ª–æ–≤
- **API endpoints:** ~35 —Ñ–∞–π–ª–æ–≤
- **–¢–µ—Å—Ç—ã:** ~20 —Ñ–∞–π–ª–æ–≤
- **GraphQL:** 2 —Ñ–∞–π–ª–∞

### –û—Å—Ç–∞–ª–æ—Å—å (–≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é):
- **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** 66 —Ñ–∞–π–ª–æ–≤
- **Feature –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** ~20 —Ñ–∞–π–ª–æ–≤ (–∫—Ä–æ–º–µ dashboard –∏ test-chat)
- **Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** 9 —Ñ–∞–π–ª–æ–≤
- **Hooks:** 7 —Ñ–∞–π–ª–æ–≤
- **Providers:** 4 —Ñ–∞–π–ª–∞
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:** ~15 —Ñ–∞–π–ª–æ–≤ (–∫—Ä–æ–º–µ –∞–≥–µ–Ω—Ç–æ–≤)
- **–°–µ—Ä–≤–∏—Å—ã:** ~10 —Ñ–∞–π–ª–æ–≤ (–∫—Ä–æ–º–µ –∞–≥–µ–Ω—Ç–æ–≤)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

### ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É:
1. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –≤—Å–µ 66 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≥–æ—Ç–æ–≤—ã
2. **Design tokens** - –æ—Ç–ª–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∏–∑–∞–π–Ω–∞
3. **Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Ö–µ–¥–µ—Ä—ã, –º–µ–Ω—é
4. **Feature –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - account-settings
   - integrations
   - knowledge
   - notifications
   - pricing-internal
5. **Hooks –∏ Providers** - –≤—Å–µ –≥–æ—Ç–æ–≤—ã
6. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
   - Docker setup
   - Vercel/Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - Sentry –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
7. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
   - NextAuth.js setup
   - CSRF –∑–∞—â–∏—Ç–∞
   - Rate limiting
8. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ organizations/users
   - RLS –ø–æ–ª–∏—Ç–∏–∫–∏
   - –ú–∏–≥—Ä–∞—Ü–∏–∏
   - –ò–Ω–¥–µ–∫—Å—ã

### ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. Test Chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ manage-data, manage-summary
4. Worker tasks

### ‚ùå –£–¥–∞–ª–µ–Ω–æ (–Ω–µ –Ω—É–∂–Ω–æ):
1. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤
2. –í—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤
3. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∞–≥–µ–Ω—Ç–æ–≤
4. OpenAI Brain –∫–ª–∏–µ–Ω—Ç

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ—á–∏—Å—Ç–∫—É
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å test-chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —Ñ–∞–π–ª–∞—Ö
4. –û—á–∏—Å—Ç–∏—Ç—å worker tasks

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
4. –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ feature –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –°–æ–∑–¥–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –æ—á–∏—Å—Ç–∫–∏
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω, –æ—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —á–∞—Å—Ç–∏—á–Ω–æ

