# üöÄ DevOps –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞

> –û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-01-XX  
> –°—Ç–∞—Ç—É—Å: –í —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
> –ü—Ä–æ–≥—Ä–µ—Å—Å: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚úÖ

## üìä –¢–µ–∫—É—â–∞—è –æ—Ü–µ–Ω–∫–∞ –∑—Ä–µ–ª–æ—Å—Ç–∏ DevOps: 6/10 ‚Üí 7/10

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ CI/CD Pipeline —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é (+1)
- ‚úÖ Worker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ (+1)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (+1)

**–¶–µ–ª–µ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:** 8/10 (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è worker –∏ —É–ª—É—á—à–µ–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)

---

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç
- ‚úÖ Docker: multi-stage Dockerfile, docker-compose —Å health checks
- ‚úÖ Vercel: –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç —á–µ—Ä–µ–∑ `vercel.json`, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ Environment management: —à–∞–±–ª–æ–Ω—ã `.env.example`, –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏, —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ `schema_migrations`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å
- ‚úÖ Sentry: –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production
- ‚úÖ Health checks: `/api/health` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ë–î –∏ Redis
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ Logger –∫–ª–∞—Å—Å
- ‚úÖ Web Vitals: –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–±–∞–∑–æ–≤–∞—è)
- ‚úÖ RLS: Row Level Security –≤ Supabase
- ‚úÖ Rate limiting: `lib/rate-limit.ts` —Å Upstash Redis
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: `ENCRYPTION_KEY` –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ CRM
- ‚úÖ Security headers: –≤ `next.config.js`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ E2E: Playwright, 15 —Ç–µ—Å—Ç–æ–≤, CI-ready
- ‚úÖ Storybook: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –°–µ–∫—Ä–µ—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–ö–†–ò–¢–ò–ß–ù–û)
**–°—Ç–∞—Ç—É—Å:** üî¥ –¢—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–∞–π–ª `env.production` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ö–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏:
  - `SUPABASE_SERVICE_ROLE_KEY`
  - `OPENROUTER_API_KEY`
  - `UPSTASH_REDIS_REST_TOKEN`
  - `NEXTAUTH_SECRET`

**–î–µ–π—Å—Ç–≤–∏—è:**
- [x] –£–¥–∞–ª–∏—Ç—å `env.production` –∏–∑ git –∏–Ω–¥–µ–∫—Å–∞
- [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤ `.gitignore` (—É–∂–µ –±—ã–ª–æ)
- [ ] –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ (—Å–º. `docs/ROTATE_SECRETS.md`)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vercel Secrets –¥–ª—è production
- [x] –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Å–µ–∫—Ä–µ—Ç–∞–º–∏

**–î–µ–¥–ª–∞–π–Ω:** –°–µ–≥–æ–¥–Ω—è  
**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–æ—Ç–∞—Ü–∏–∏:** [`docs/ROTATE_SECRETS.md`](./ROTATE_SECRETS.md)

---

### 2. ‚úÖ CI/CD Pipeline
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫

**–î–µ–π—Å—Ç–≤–∏—è:**
- [x] –°–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml` ‚úÖ
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å security scanning ‚úÖ
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ production ‚úÖ
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π –Ω–∞ preview –¥–ª—è PR ‚úÖ

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–∞ –Ω–µ–¥–µ–ª—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ  
**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [`docs/GITHUB_SECRETS_SETUP.md`](./GITHUB_SECRETS_SETUP.md)  
**GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:**
- ‚úÖ `VERCEL_ORG_ID`: –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets
- ‚úÖ `VERCEL_PROJECT_ID`: –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets  
- ‚úÖ `VERCEL_TOKEN`: –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Secrets

**–°—Ç–∞—Ç—É—Å CI/CD:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!

---

### 3. ‚úÖ Worker —Å–µ—Ä–≤–∏—Å - –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Worker —Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –≤ production
- –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

**–î–µ–π—Å—Ç–≤–∏—è:**
- [x] –°–æ–∑–¥–∞—Ç—å Dockerfile –¥–ª—è worker ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Railway/Render/Fly.io ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å health checks –¥–ª—è worker ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –¥–µ–ø–ª–æ—é ‚úÖ
- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ** (—Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å auto-scaling

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–∞ –Ω–µ–¥–µ–ª—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [`docs/WORKER_DEPLOYMENT.md`](./WORKER_DEPLOYMENT.md)  
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (Railway/Render/Fly.io) –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

### 4. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Infrastructure as Code (IaC)
**–°—Ç–∞—Ç—É—Å:** üü° –í–∞–∂–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ UI
- –ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –°–ª–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å Terraform –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å Supabase –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å Upstash Redis
- [ ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–æ—Ç –º–µ—Å—è—Ü

---

## üöß –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥
**–°—Ç–∞—Ç—É—Å:** üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã (Grafana/DataDog)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç–∏–Ω–≥ (PagerDuty/Opsgenie)
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å SLAs/SLOs
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –±–∏–∑–Ω–µ—Å–∞ (token usage, response time)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–î –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–∞ –Ω–µ–¥–µ–ª—è

---

### 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
**–°—Ç–∞—Ç—É—Å:** üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã Supabase
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å point-in-time recovery
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –∏–Ω–¥–µ–∫—Å—ã

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–∞ –Ω–µ–¥–µ–ª—è

---

### 3. Backups & Disaster Recovery
**–°—Ç–∞—Ç—É—Å:** üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î
- [ ] –°–æ–∑–¥–∞—Ç—å disaster recovery –ø–ª–∞–Ω
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–∞ –Ω–µ–¥–µ–ª—è

---

### 4. Security
**–°—Ç–∞—Ç—É—Å:** üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å security scanning –≤ CI/CD
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å dependency scanning
- [ ] –î–æ–±–∞–≤–∏—Ç—å SAST/DAST
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å secret scanning
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WAF (Cloudflare/AWS WAF)
- [ ] –£–ª—É—á—à–∏—Ç—å security headers (CSP, HSTS)

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–æ—Ç –º–µ—Å—è—Ü

---

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è DevOps
**–°—Ç–∞—Ç—É—Å:** üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å `docs/INFRASTRUCTURE.md`
- [ ] –°–æ–∑–¥–∞—Ç—å runbooks –¥–ª—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å disaster recovery –ø–ª–∞–Ω
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–î–µ–¥–ª–∞–π–Ω:** –≠—Ç–∞ –Ω–µ–¥–µ–ª—è

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### üî¥ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–Ω–æ (–°–ï–ì–û–î–ù–Ø)

#### –ó–∞–¥–∞—á–∞ 1.1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–æ–≤
**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞

1. –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ git –∏—Å—Ç–æ—Ä–∏–∏:
   ```bash
   git rm --cached env.production
   echo "env.production" >> .gitignore
   git commit -m "security: remove secrets from repo"
   ```

2. –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏:
   - Supabase: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π service role key
   - OpenRouter: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π API key
   - Upstash: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Redis instance –∏–ª–∏ —Ç–æ–∫–µ–Ω
   - NextAuth: —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π secret

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vercel Secrets:
   ```bash
   vercel env add SUPABASE_SERVICE_ROLE_KEY production
   vercel env add OPENROUTER_API_KEY production
   # –∏ —Ç.–¥.
   ```

4. –°–æ–∑–¥–∞—Ç—å `docs/SECRETS.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã —É–¥–∞–ª–µ–Ω—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ –í—Å–µ –∫–ª—é—á–∏ —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Vercel

---

#### –ó–∞–¥–∞—á–∞ 1.2: CI/CD Pipeline
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

1. –°–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml`:
   - Lint & Type Check
   - Unit Tests (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - E2E Tests (Playwright)
   - Security Scan
   - Build Check

2. –°–æ–∑–¥–∞—Ç—å `.github/workflows/deploy.yml`:
   - Auto deploy –Ω–∞ preview –¥–ª—è PR
   - Auto deploy –Ω–∞ production –¥–ª—è main

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–∞–∂–¥—ã–π PR
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ production

---

#### –ó–∞–¥–∞—á–∞ 1.3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
**–í—Ä–µ–º—è:** 1 —á–∞—Å

1. –°–æ–∑–¥–∞—Ç—å `docs/INFRASTRUCTURE.md`:
   - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –°—Ö–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
   - –ü–æ—Ä—Ç—ã –∏ endpoints

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

### üü° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í–∞–∂–Ω–æ (–≠–¢–ê –ù–ï–î–ï–õ–Ø)

#### –ó–∞–¥–∞—á–∞ 2.1: –î–µ–ø–ª–æ–π Worker —Å–µ—Ä–≤–∏—Å–∞
**–í—Ä–µ–º—è:** 2-3 —á–∞—Å–∞

1. –°–æ–∑–¥–∞—Ç—å `services/worker/Dockerfile`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π –Ω–∞ Railway/Render
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ worker

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Worker —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production
- ‚úÖ –û—á–µ—Ä–µ–¥–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

---

#### –ó–∞–¥–∞—á–∞ 2.2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –≤ Sentry
2. –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

#### –ó–∞–¥–∞—á–∞ 2.3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î
**–í—Ä–µ–º—è:** 1-2 —á–∞—Å–∞

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase Automated Backups
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –±—ç–∫–∞–ø–æ–≤
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î
- ‚úÖ –ü–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

### üü¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–≠–¢–û–¢ –ú–ï–°–Ø–¶)

#### –ó–∞–¥–∞—á–∞ 3.1: Infrastructure as Code
**–í—Ä–µ–º—è:** 4-5 —á–∞—Å–æ–≤

1. –°–æ–∑–¥–∞—Ç—å Terraform –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ IaC –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

#### –ó–∞–¥–∞—á–∞ 3.2: Security Hardening
**–í—Ä–µ–º—è:** 3-4 —á–∞—Å–∞

1. –î–æ–±–∞–≤–∏—Ç—å security scanning –≤ CI/CD
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WAF
3. –£–ª—É—á—à–∏—Ç—å security headers

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —É–¥–∞–ª–µ–Ω—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Ä–æ—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] CI/CD pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] Worker —Å–µ—Ä–≤–∏—Å –∑–∞–¥–µ–ø–ª–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥–æ—Ç–æ–≤–∞
- [ ] Disaster recovery –ø–ª–∞–Ω –Ω–∞–ø–∏—Å–∞–Ω

### –¶–µ–ª–µ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∑—Ä–µ–ª–æ—Å—Ç–∏ DevOps: 8/10

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–µ–≥–æ–¥–Ω—è:**
   - –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
   - –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏
   - –°–æ–∑–¥–∞—Ç—å CI/CD pipeline
   - –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

2. **–≠—Ç–∞ –Ω–µ–¥–µ–ª—è:**
   - –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å worker
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã

3. **–≠—Ç–æ—Ç –º–µ—Å—è—Ü:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å IaC
   - –£–ª—É—á—à–∏—Ç—å security
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## üìù –ó–∞–º–µ—Ç–∫–∏

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å health checks
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–≤–æ–¥–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ security –∞—É–¥–∏—Ç—ã

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-XX  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps Team  
**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

