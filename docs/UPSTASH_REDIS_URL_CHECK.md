# üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä—è–º–æ–≥–æ Redis URL –∏–∑ Upstash Dashboard

**–î–∞—Ç–∞:** 2025-01-26  
**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint –∏ —Ç–æ–∫–µ–Ω –¥–ª—è TCP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## üìã –®–∞–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 1. –û—Ç–∫—Ä—ã—Ç—å Upstash Dashboard

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://console.upstash.com
2. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
3. –í—ã–±—Ä–∞—Ç—å –≤–∞—à Redis –∏–Ω—Å—Ç–∞–Ω—Å

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–¥–µ–ª "Redis" (–Ω–µ "REST API")

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±—Ä–∞—Ç—å **"Redis"** (–Ω–µ "REST API")
2. –ù–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª **"Redis URL"** –∏–ª–∏ **"Connection String"**
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL

**–§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
```
rediss://default:TOKEN@HOST:6379
```

### 3. –°—Ä–∞–≤–Ω–∏—Ç—å —Å —Ç–µ–∫—É—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

**–¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Railway:**
- `UPSTASH_REDIS_REST_URL`: `https://xxx.upstash.io`
- `UPSTASH_REDIS_REST_TOKEN`: `xxx`

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –•–æ—Å—Ç –≤ –ø—Ä—è–º–æ–º Redis URL –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ö–æ—Å—Ç–æ–º –≤ REST URL (–±–µ–∑ `https://`)
- ‚úÖ –ü–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `6379` (–¥–ª—è TLS)
- ‚úÖ –¢–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–µ–º –∂–µ, —á—Ç–æ –∏ REST Token, –∏–ª–∏ –¥—Ä—É–≥–∏–º

### 4. –ï—Å–ª–∏ URL –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è

**–í–∞—Ä–∏–∞–Ω—Ç A: –¢–æ–∫–µ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥ (—Ñ–æ—Ä–º–∏—Ä—É–µ–º URL –∏–∑ REST URL –∏ —Ç–æ–∫–µ–Ω–∞)
- ‚úÖ –¢–µ–∫—É—â–∏–π –∫–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–í–∞—Ä–∏–∞–Ω—Ç B: –¢–æ–∫–µ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è**
- –î–ª—è TCP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ç–æ–∫–µ–Ω
- –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `UPSTASH_REDIS_TCP_TOKEN` –≤ Railway

**–í–∞—Ä–∏–∞–Ω—Ç C: Endpoint –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è**
- –î–ª—è TCP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ö–æ—Å—Ç
- –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `UPSTASH_REDIS_TCP_ENDPOINT` –≤ Railway

---

## üîß –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π URL

–ï—Å–ª–∏ –ø—Ä—è–º–æ–π Redis URL –∏–∑ Dashboard –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ–º–æ–≥–æ, –º–æ–∂–Ω–æ:

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `REDIS_URL` –≤ Railway:**
   ```
   rediss://default:TOKEN@HOST:6379
   ```

2. **–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ Worker** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `REDIS_URL` –Ω–∞–ø—Ä—è–º—É—é (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å)

**–û–¥–Ω–∞–∫–æ:** –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥ (—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL –∏–∑ REST URL) –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–µ–Ω, —Ç–∞–∫ –∫–∞–∫:
- REST URL –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Dashboard
- REST Token –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∫–æ–¥–∞:

1. **–î–µ–ø–ª–æ–π Worker** —Å –Ω–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏** –≤ —Ç–µ—á–µ–Ω–∏–µ 10-15 –º–∏–Ω—É—Ç
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - ‚úÖ –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–∞—Ö
   - ‚úÖ Health check —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã** –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
2. **–†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–∫–µ–Ω–æ–º** –±—É–¥—É—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ
3. **Health check** –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
4. **Retry —Å—Ç—Ä–∞—Ç–µ–≥–∏—è** —Å jitter –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç thundering herd

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-26

