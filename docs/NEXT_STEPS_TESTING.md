# üéØ –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–î–∞—Ç–∞:** 2025-01-26  
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** üü° 75/100

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ–∫—Ä—ã—Ç–æ | –í—Å–µ–≥–æ | –ü—Ä–æ—Ü–µ–Ω—Ç | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-----------|---------|-------|---------|-----------|
| **Unit —Ç–µ—Å—Ç—ã** | 48 —Ñ–∞–π–ª–æ–≤ | ~1341 —Ç–µ—Å—Ç | **95%** | üü¢ –û—Ç–ª–∏—á–Ω–æ |
| **Integration —Ç–µ—Å—Ç—ã** | 9 endpoints | 80 endpoints | **11%** | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |
| **E2E —Ç–µ—Å—Ç—ã** | ~60% | 100% | **60%** | üü° –°—Ä–µ–¥–Ω–∏–π |
| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã** | 13 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | 91 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | **12%** | üü° –°—Ä–µ–¥–Ω–∏–π |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: Integration —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints üî¥

**–¶–µ–ª—å:** –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Å 11% –¥–æ 50%+

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. **–ê–≥–µ–Ω—Ç—ã - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ endpoints** (8-10 —á–∞—Å–æ–≤)
   - `/api/agents/[id]/rules` - GET, POST, PATCH, DELETE
   - `/api/agents/[id]/sequences` - GET, POST, PATCH, DELETE
   - `/api/agents/[id]/triggers` - GET, POST, PATCH, DELETE
   - `/api/agents/[id]/integrations` - GET, POST
   - `/api/agents/[id]/integrations/[integrationId]` - GET, PATCH
   - `/api/agents/[id]/integrations/[integrationId]/sync` - POST
   - `/api/agents/[id]/actions` - GET, POST
   - `/api/agents/[id]/fields` - GET, POST

2. **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** (6-8 —á–∞—Å–æ–≤)
   - `/api/knowledge-base/articles/[id]` - GET, PATCH, DELETE
   - `/api/knowledge-base/categories` - GET, POST, PATCH, DELETE
   - `/api/knowledge-base/categories/[id]` - GET, PATCH, DELETE

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** (6-8 —á–∞—Å–æ–≤)
   - `/api/integrations/kommo/oauth/callback` - GET
   - `/api/integrations/kommo/status` - GET
   - `/api/integrations/kommo/messages/send` - POST
   - `/api/integrations/kommo/webhook` - POST

4. **Webhooks –∏ CRM** (4-6 —á–∞—Å–æ–≤)
   - `/api/webhooks/[id]` - GET, PATCH, DELETE
   - `/api/crm/webhook` - POST
   - `/api/crm/kommo` - GET, POST

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** +30-40 endpoints, –ø–æ–∫—Ä—ã—Ç–∏–µ 50%+

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ üü°

**–¶–µ–ª—å:** –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Å 12% –¥–æ 40%+

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (8-10 —á–∞—Å–æ–≤)
   - Dialog/Modal - 8-10 —Ç–µ—Å—Ç–æ–≤
   - Select/Combobox - 10-12 —Ç–µ—Å—Ç–æ–≤
   - Switch - 6-8 —Ç–µ—Å—Ç–æ–≤
   - Checkbox - 6-8 —Ç–µ—Å—Ç–æ–≤
   - Progress - 4-6 —Ç–µ—Å—Ç–æ–≤
   - Skeleton - 4-6 —Ç–µ—Å—Ç–æ–≤
   - Alert/Toast - 8-10 —Ç–µ—Å—Ç–æ–≤

2. **–§–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è** (6-8 —á–∞—Å–æ–≤)
   - Form –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
   - Error states
   - Loading states

3. **Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (4-6 —á–∞—Å–æ–≤)
   - Sidebar
   - Header
   - Navigation

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** +20-25 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–æ–∫—Ä—ã—Ç–∏–µ 40%+

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤ üü°

**–¶–µ–ª—å:** –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Å 60% –¥–æ 80%+

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏** (10-12 —á–∞—Å–æ–≤)
   - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (Kommo)
   - –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π (CRUD)
   - –ë–∏–ª–ª–∏–Ω–≥ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhooks

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** (4-6 —á–∞—Å–æ–≤)
   - –û—à–∏–±–∫–∏ API
   - –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (2-4 —á–∞—Å–∞)
   - –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** +10-15 E2E —Ç–µ—Å—Ç–æ–≤, –ø–æ–∫—Ä—ã—Ç–∏–µ 80%+

---

## üìÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ù–µ–¥–µ–ª—è 1-2: Integration —Ç–µ—Å—Ç—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
- –î–µ–Ω—å 1-2: –ê–≥–µ–Ω—Ç—ã - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ endpoints
- –î–µ–Ω—å 3-4: –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- –î–µ–Ω—å 5-6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- –î–µ–Ω—å 7-8: Webhooks –∏ CRM

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫—Ä—ã—Ç–∏–µ Integration —Ç–µ—Å—Ç–æ–≤: 11% ‚Üí 50%+

### –ù–µ–¥–µ–ª—è 3-4: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
- –î–µ–Ω—å 1-3: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –î–µ–Ω—å 4-5: –§–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –î–µ–Ω—å 6-7: Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤: 12% ‚Üí 40%+

### –ù–µ–¥–µ–ª—è 5-6: E2E —Ç–µ—Å—Ç—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
- –î–µ–Ω—å 1-3: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏
- –î–µ–Ω—å 4-5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –î–µ–Ω—å 6-7: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–∫—Ä—ã—Ç–∏–µ E2E —Ç–µ—Å—Ç–æ–≤: 60% ‚Üí 80%+

---

## üéØ –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –ß–µ—Ä–µ–∑ 2 –Ω–µ–¥–µ–ª–∏:
- Integration —Ç–µ—Å—Ç—ã: **50%+** (–±—ã–ª–æ 11%)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã: **40%+** (–±—ã–ª–æ 12%)
- –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: **80/100** (–±—ã–ª–æ 75/100)

### –ß–µ—Ä–µ–∑ 4 –Ω–µ–¥–µ–ª–∏:
- Integration —Ç–µ—Å—Ç—ã: **70%+**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã: **60%+**
- E2E —Ç–µ—Å—Ç—ã: **80%+**
- –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: **85/100**

### –ß–µ—Ä–µ–∑ 6 –Ω–µ–¥–µ–ª—å:
- Integration —Ç–µ—Å—Ç—ã: **80%+**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã: **70%+**
- E2E —Ç–µ—Å—Ç—ã: **85%+**
- –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: **90/100** üéØ

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ù–∞—á–∞—Ç—å —Å Integration —Ç–µ—Å—Ç–æ–≤:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
tests/integration/api/agents-rules.test.ts
tests/integration/api/agents-sequences.test.ts
tests/integration/api/agents-integrations.test.ts

# 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
tests/integration/api/knowledge-base-articles-id.test.ts
tests/integration/api/knowledge-base-categories.test.ts

# 3. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
tests/integration/api/integrations-kommo-callback.test.ts
tests/integration/api/integrations-kommo-status.test.ts
```

### –ù–∞—á–∞—Ç—å —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
# 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
tests/components/ui/dialog.test.tsx
tests/components/ui/select.test.tsx
tests/components/ui/switch.test.tsx
tests/components/ui/checkbox.test.tsx
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞

- [ ] –í—ã–±—Ä–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: Integration —Ç–µ—Å—Ç—ã)
- [ ] –°–æ–∑–¥–∞—Ç—å TODO —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
- [ ] –ù–∞—á–∞—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –ø–ª–∞–Ω–∞
- [ ] –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ (`npm run test:unit:coverage`)
- [ ] –û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ CI/CD**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ PR
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ä–¥–∂ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å coverage –≤ PR

2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
   - –°–æ–∑–¥–∞—Ç—å dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

3. **–ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤**
   - Code review –¥–ª—è —Ç–µ—Å—Ç–æ–≤
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ test fixtures

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –Ω–∞—á–Ω–∏—Ç–µ —Å –ø–µ—Ä–≤–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –ø–ª–∞–Ω–∞! üöÄ

