# ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ Sentry –¥–ª—è Worker - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

**–î–∞—Ç–∞:** 2025-01-26  
**–°—Ç–∞—Ç—É—Å:** üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–µ–Ω–∏–µ URL Worker –∏–∑ Railway)

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–ª–µ—Ä—Ç–æ–≤

**–§–∞–π–ª:** `docs/SENTRY_WORKER_ALERTS.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é Uptime Monitor –¥–ª—è Worker
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∞–ª–µ—Ä—Ç–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∞–ª–µ—Ä—Ç–æ–≤ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ Worker —Å Sentry
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Email, Slack, Webhook)

### 2. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∞–ª–µ—Ä—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∞

**URL:** https://world-wide-services.sentry.io/issues/alerts/new/uptime/?project=javascript-nextjs&referrer=alert_stream

**–¢–∏–ø –∞–ª–µ—Ä—Ç–∞:** Uptime Monitor (–≤—ã–±—Ä–∞–Ω)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è Worker (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** Worker –Ω–µ –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL (—Ç–æ–ª—å–∫–æ Private Networking: `gpt-agent-platform.railway.internal`)

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway Dashboard: https://railway.app
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç "athletic-unity" ‚Üí —Å–µ—Ä–≤–∏—Å "gpt-agent-platform"
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Networking**
4. –í —Ä–∞–∑–¥–µ–ª–µ "Public Networking" –Ω–∞–∂–º–∏—Ç–µ **"Generate Domain"**
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gpt-agent-platform-production-xxxx.up.railway.app`)

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL, Worker –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTP. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- Health check endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç: `https://your-worker-url/health`
- –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã: `https://your-worker-url/metrics`
- –ü–æ—Ä—Ç Worker –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3001)

### –®–∞–≥ 2: –ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É Uptime Monitor

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è –∞–ª–µ—Ä—Ç–∞ –≤ Sentry (—É–∂–µ –æ—Ç–∫—Ä—ã—Ç–∞)
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **URL:** `https://[your-worker-url]/health` (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π URL)
   - **Environment:** `production` (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞)
   - **Uptime rule name:** `Worker Health Check`
   - **Owner:** –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞
3. –ù–∞–∂–º–∏—Ç–µ **"Create Rule"**

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `docs/SENTRY_WORKER_ALERTS.md` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:
- –ê–ª–µ—Ä—Ç–∞ –Ω–∞ –≤—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
- –ê–ª–µ—Ä—Ç–∞ –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Uptime Monitor

### –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **URL:** `https://[your-worker-url]/health`
- **Method:** `GET`
- **Interval:** `Every 1 minute`
- **Timeout:** `10.00s`
- **Failure Tolerance:** `3` (—Å–æ–∑–¥–∞—Ç—å issue –ø–æ—Å–ª–µ 3 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –Ω–µ—É–¥–∞—á)
- **Recovery Tolerance:** `1` (—Ä–µ—à–∏—Ç—å issue –ø–æ—Å–ª–µ 1 —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏)

### –û–∂–∏–¥–∞–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã

**–£—Å–ø–µ—Ö (HTTP 200):**
```json
{
  "status": "ok",
  "service": "worker",
  "redis": { "connected": true }
}
```

**–ü—Ä–æ–±–ª–µ–º–∞ (HTTP 503):**
```json
{
  "status": "degraded",
  "service": "worker",
  "redis": { "connected": false, "error": "..." }
}
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/SENTRY_WORKER_ALERTS.md`
- **Sentry Alerts:** https://world-wide-services.sentry.io/issues/alerts/rules/
- **Railway Dashboard:** https://railway.app
- **Worker Monitoring:** `docs/WORKER_MONITORING.md`

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–µ–Ω–∏–µ URL Worker –∏–∑ Railway –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

